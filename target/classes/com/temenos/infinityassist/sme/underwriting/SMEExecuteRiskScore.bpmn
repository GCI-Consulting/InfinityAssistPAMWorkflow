<?xml version="1.0" encoding="UTF-8"?>
<bpmn2:definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://www.omg.org/bpmn20" xmlns:bpmn2="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:bpsim="http://www.bpsim.org/schemas/1.0" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:drools="http://www.jboss.org/drools" id="_akZtgHhQEeyNYL7k0LixyA" xsi:schemaLocation="http://www.omg.org/spec/BPMN/20100524/MODEL BPMN20.xsd http://www.jboss.org/drools drools.xsd http://www.bpsim.org/schemas/1.0 bpsim.xsd http://www.omg.org/spec/DD/20100524/DC DC.xsd http://www.omg.org/spec/DD/20100524/DI DI.xsd " exporter="jBPM Process Modeler" exporterVersion="2.0" targetNamespace="http://www.omg.org/bpmn20">
  <bpmn2:itemDefinition id="_authorizationItem" structureRef="String"/>
  <bpmn2:itemDefinition id="_riskscoreCardDataMapItem" structureRef="java.util.Map"/>
  <bpmn2:itemDefinition id="_SMERiskScoreParamsItem" structureRef="com.temenos.infinityassist.sme.SMERiskScoreParams"/>
  <bpmn2:itemDefinition id="_riskScoreOutputItem" structureRef="Integer"/>
  <bpmn2:itemDefinition id="_ratingScoreOutputItem" structureRef="String"/>
  <bpmn2:itemDefinition id="_riskCategoryOutputItem" structureRef="String"/>
  <bpmn2:itemDefinition id="_requestIdItem" structureRef="String"/>
  <bpmn2:itemDefinition id="_dealIdItem" structureRef="String"/>
  <bpmn2:itemDefinition id="_partyIdItem" structureRef="String"/>
  <bpmn2:itemDefinition id="_applicationItem" structureRef="String"/>
  <bpmn2:itemDefinition id="_partyListItem" structureRef="java.util.Set"/>
  <bpmn2:itemDefinition id="_companyBureauScoreItem" structureRef="Integer"/>
  <bpmn2:itemDefinition id="_partyBureauScoreItem" structureRef="Integer"/>
  <bpmn2:itemDefinition id="_yearsOfOperationScoreItem" structureRef="Integer"/>
  <bpmn2:itemDefinition id="_partyAgeScoreItem" structureRef="Integer"/>
  <bpmn2:itemDefinition id="_relationshipWithBankScoreItem" structureRef="Integer"/>
  <bpmn2:itemDefinition id="_riskScoreCardValuesItem" structureRef="String"/>
  <bpmn2:itemDefinition id="_facilityIdItem" structureRef="String"/>
  <bpmn2:itemDefinition id="_partyTypeItem" structureRef="String"/>
  <bpmn2:itemDefinition id="_finalScoresItem" structureRef="String"/>
  <bpmn2:itemDefinition id="_payloadMapItem" structureRef="String"/>
  <bpmn2:itemDefinition id="_E73A3E0D-4901-49E7-BA9A-A0BB0C75ACBC_multiInstanceItemType_partyId" structureRef="Object"/>
  <bpmn2:itemDefinition id="__4C3726A5-4512-4884-83F3-3F596F40A9BD_namespaceInputXItem" structureRef="java.lang.String"/>
  <bpmn2:itemDefinition id="__4C3726A5-4512-4884-83F3-3F596F40A9BD_modelInputXItem" structureRef="java.lang.String"/>
  <bpmn2:itemDefinition id="__4C3726A5-4512-4884-83F3-3F596F40A9BD_decisionInputXItem" structureRef="java.lang.String"/>
  <bpmn2:itemDefinition id="__4C3726A5-4512-4884-83F3-3F596F40A9BD_ParamsInputXItem" structureRef="com.temenos.infinityassist.sme.SMERiskScoreParams"/>
  <bpmn2:itemDefinition id="__4C3726A5-4512-4884-83F3-3F596F40A9BD_riskScoreOutputXItem" structureRef="Integer"/>
  <bpmn2:itemDefinition id="__4C3726A5-4512-4884-83F3-3F596F40A9BD_ratingScoreOutputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__4C3726A5-4512-4884-83F3-3F596F40A9BD_riskCategoryOutputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__4C3726A5-4512-4884-83F3-3F596F40A9BD_companyBureauScoreOutputXItem" structureRef="Integer"/>
  <bpmn2:itemDefinition id="__4C3726A5-4512-4884-83F3-3F596F40A9BD_partyBureauScoreOutputXItem" structureRef="Integer"/>
  <bpmn2:itemDefinition id="__4C3726A5-4512-4884-83F3-3F596F40A9BD_yearsOfOperationOutputXItem" structureRef="Integer"/>
  <bpmn2:itemDefinition id="__4C3726A5-4512-4884-83F3-3F596F40A9BD_partyAgeOutputXItem" structureRef="Integer"/>
  <bpmn2:itemDefinition id="__4C3726A5-4512-4884-83F3-3F596F40A9BD_relationshipWithBankOutputXItem" structureRef="Integer"/>
  <bpmn2:itemDefinition id="__D705C50D-A740-4667-BDFA-612B95110FCA_applicationInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__D705C50D-A740-4667-BDFA-612B95110FCA_requestIdInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__D705C50D-A740-4667-BDFA-612B95110FCA_dealIdInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__D705C50D-A740-4667-BDFA-612B95110FCA_partyIdInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__D705C50D-A740-4667-BDFA-612B95110FCA_stageInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__D705C50D-A740-4667-BDFA-612B95110FCA_countInputXItem" structureRef="Integer"/>
  <bpmn2:itemDefinition id="__D705C50D-A740-4667-BDFA-612B95110FCA_isTaskProcessInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__3660C041-4E85-41BB-AB67-A025ADBD6426_payloadMapInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__3660C041-4E85-41BB-AB67-A025ADBD6426_authorizationInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__3660C041-4E85-41BB-AB67-A025ADBD6426_partyIdInputXItem" structureRef="String"/>
  <bpmn2:process id="InfinityAssist.SMEExecuteRiskScore" drools:packageName="com.temenos.infinityassist.sme.underwriting" drools:version="1.0" drools:adHoc="false" name="SMEExecuteRiskScore" isExecutable="true" processType="Public">
    <bpmn2:property id="authorization" itemSubjectRef="_authorizationItem" name="authorization"/>
    <bpmn2:property id="riskscoreCardDataMap" itemSubjectRef="_riskscoreCardDataMapItem" name="riskscoreCardDataMap"/>
    <bpmn2:property id="SMERiskScoreParams" itemSubjectRef="_SMERiskScoreParamsItem" name="SMERiskScoreParams"/>
    <bpmn2:property id="riskScoreOutput" itemSubjectRef="_riskScoreOutputItem" name="riskScoreOutput"/>
    <bpmn2:property id="ratingScoreOutput" itemSubjectRef="_ratingScoreOutputItem" name="ratingScoreOutput"/>
    <bpmn2:property id="riskCategoryOutput" itemSubjectRef="_riskCategoryOutputItem" name="riskCategoryOutput"/>
    <bpmn2:property id="requestId" itemSubjectRef="_requestIdItem" name="requestId"/>
    <bpmn2:property id="dealId" itemSubjectRef="_dealIdItem" name="dealId"/>
    <bpmn2:property id="partyId" itemSubjectRef="_partyIdItem" name="partyId"/>
    <bpmn2:property id="application" itemSubjectRef="_applicationItem" name="application"/>
    <bpmn2:property id="partyList" itemSubjectRef="_partyListItem" name="partyList"/>
    <bpmn2:property id="companyBureauScore" itemSubjectRef="_companyBureauScoreItem" name="companyBureauScore"/>
    <bpmn2:property id="partyBureauScore" itemSubjectRef="_partyBureauScoreItem" name="partyBureauScore"/>
    <bpmn2:property id="yearsOfOperationScore" itemSubjectRef="_yearsOfOperationScoreItem" name="yearsOfOperationScore"/>
    <bpmn2:property id="partyAgeScore" itemSubjectRef="_partyAgeScoreItem" name="partyAgeScore"/>
    <bpmn2:property id="relationshipWithBankScore" itemSubjectRef="_relationshipWithBankScoreItem" name="relationshipWithBankScore"/>
    <bpmn2:property id="riskScoreCardValues" itemSubjectRef="_riskScoreCardValuesItem" name="riskScoreCardValues"/>
    <bpmn2:property id="facilityId" itemSubjectRef="_facilityIdItem" name="facilityId"/>
    <bpmn2:property id="partyType" itemSubjectRef="_partyTypeItem" name="partyType"/>
    <bpmn2:property id="finalScores" itemSubjectRef="_finalScoresItem" name="finalScores"/>
    <bpmn2:property id="payloadMap" itemSubjectRef="_payloadMapItem" name="payloadMap"/>
    <bpmn2:sequenceFlow id="_08638B21-0339-41D5-BA62-166B2AA4701C" sourceRef="_00342198-D266-475F-B203-C1642097C75D" targetRef="_E73A3E0D-4901-49E7-BA9A-A0BB0C75ACBC"/>
    <bpmn2:sequenceFlow id="_73C3AD81-C614-4A70-885A-D3FFDE7FDEBF" sourceRef="_BC2046AD-AC69-44BD-98BD-83D85E053681" targetRef="_00342198-D266-475F-B203-C1642097C75D"/>
    <bpmn2:sequenceFlow id="_F20B4932-2141-40F5-8CE9-109020BB93B3" sourceRef="_E73A3E0D-4901-49E7-BA9A-A0BB0C75ACBC" targetRef="_6ABC6745-B763-4950-8B18-B68BCB9DF8CD"/>
    <bpmn2:startEvent id="_BC2046AD-AC69-44BD-98BD-83D85E053681">
      <bpmn2:outgoing>_73C3AD81-C614-4A70-885A-D3FFDE7FDEBF</bpmn2:outgoing>
    </bpmn2:startEvent>
    <bpmn2:scriptTask id="_00342198-D266-475F-B203-C1642097C75D" name="preparing partyList" scriptFormat="http://www.java.com/java">
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[preparing partyList]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:incoming>_73C3AD81-C614-4A70-885A-D3FFDE7FDEBF</bpmn2:incoming>
      <bpmn2:outgoing>_08638B21-0339-41D5-BA62-166B2AA4701C</bpmn2:outgoing>
      <bpmn2:script><![CDATA[System.out.println("DEBUG - Execute RiskScore Card partyList preparing start in SMEExecuteRiskScore");
java.util.HashMap<String,String> scoreCardDataMap = new java.util.HashMap<String, String>();
scoreCardDataMap = (java.util.HashMap<String,String>) kcontext.getVariable("riskscoreCardDataMap");
//map's key to set
java.util.Set<String> relatedPartyIdList = new java.util.HashSet<>();
for (String entry : scoreCardDataMap.keySet()) {
	//System.out.println("Key = " + entry.getKey() + ", Value = "+ entry.getValue());
	System.out.println("Key = " + entry );
	relatedPartyIdList.add((entry));
	}
kcontext.setVariable("partyList", relatedPartyIdList);
System.out.println("DEBUG - Execute RiskScore Card partyList preparing end in SMEExecuteRiskScore");]]></bpmn2:script>
    </bpmn2:scriptTask>
    <bpmn2:endEvent id="_6ABC6745-B763-4950-8B18-B68BCB9DF8CD">
      <bpmn2:incoming>_F20B4932-2141-40F5-8CE9-109020BB93B3</bpmn2:incoming>
    </bpmn2:endEvent>
    <bpmn2:subProcess id="_E73A3E0D-4901-49E7-BA9A-A0BB0C75ACBC" name="Multiple Instance Sub-process">
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[Multiple Instance Sub-process]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:incoming>_08638B21-0339-41D5-BA62-166B2AA4701C</bpmn2:incoming>
      <bpmn2:outgoing>_F20B4932-2141-40F5-8CE9-109020BB93B3</bpmn2:outgoing>
      <bpmn2:ioSpecification id="_akZtgXhQEeyNYL7k0LixyA">
        <bpmn2:dataInput id="_E73A3E0D-4901-49E7-BA9A-A0BB0C75ACBC_IN_COLLECTIONInputX" itemSubjectRef="_partyListItem" name="IN_COLLECTION"/>
        <bpmn2:dataInput id="_E73A3E0D-4901-49E7-BA9A-A0BB0C75ACBC_partyIdInputX" itemSubjectRef="_E73A3E0D-4901-49E7-BA9A-A0BB0C75ACBC_multiInstanceItemType_partyId" name="partyId"/>
        <bpmn2:inputSet id="_akZtgnhQEeyNYL7k0LixyA">
          <bpmn2:dataInputRefs>_E73A3E0D-4901-49E7-BA9A-A0BB0C75ACBC_IN_COLLECTIONInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_E73A3E0D-4901-49E7-BA9A-A0BB0C75ACBC_partyIdInputX</bpmn2:dataInputRefs>
        </bpmn2:inputSet>
        <bpmn2:outputSet id="_akaUkHhQEeyNYL7k0LixyA"/>
      </bpmn2:ioSpecification>
      <bpmn2:dataInputAssociation id="_akaUkXhQEeyNYL7k0LixyA">
        <bpmn2:sourceRef>partyList</bpmn2:sourceRef>
        <bpmn2:targetRef>_E73A3E0D-4901-49E7-BA9A-A0BB0C75ACBC_IN_COLLECTIONInputX</bpmn2:targetRef>
      </bpmn2:dataInputAssociation>
      <bpmn2:multiInstanceLoopCharacteristics id="_akaUknhQEeyNYL7k0LixyA">
        <bpmn2:loopDataInputRef>_E73A3E0D-4901-49E7-BA9A-A0BB0C75ACBC_IN_COLLECTIONInputX</bpmn2:loopDataInputRef>
        <bpmn2:inputDataItem xsi:type="bpmn2:tDataInput" id="partyId" itemSubjectRef="_E73A3E0D-4901-49E7-BA9A-A0BB0C75ACBC_multiInstanceItemType_partyId" name="partyId"/>
      </bpmn2:multiInstanceLoopCharacteristics>
      <bpmn2:sequenceFlow id="_6D176E17-AAE7-40E8-A302-B272CF4291BA" sourceRef="_B8A6D2C1-1313-4F2D-BB78-CD8567980CFE" targetRef="_9A23A8D4-2A50-4965-8AA2-4BF9CA058D8F"/>
      <bpmn2:sequenceFlow id="_FE2ECF01-78F7-4C55-BB9B-BCCB72814A9F" sourceRef="_D705C50D-A740-4667-BDFA-612B95110FCA" targetRef="_B8A6D2C1-1313-4F2D-BB78-CD8567980CFE"/>
      <bpmn2:sequenceFlow id="_8271F013-5BED-4B8A-8C73-163411ABFB93" name="High Risk" sourceRef="_BFA3D147-9050-4E6A-915B-8BC7A7691ED7" targetRef="_D705C50D-A740-4667-BDFA-612B95110FCA">
        <bpmn2:extensionElements>
          <drools:metaData name="elementname">
            <drools:metaValue><![CDATA[High Risk]]></drools:metaValue>
          </drools:metaData>
        </bpmn2:extensionElements>
        <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_akaUk3hQEeyNYL7k0LixyA" language="http://www.java.com/java"><![CDATA[return KieFunctions.equalsTo(riskCategoryOutput, "High");]]></bpmn2:conditionExpression>
      </bpmn2:sequenceFlow>
      <bpmn2:sequenceFlow id="_AC7A2849-F621-4C06-B3BE-360DB91F0B48" name="Low and Medium Risk" sourceRef="_BFA3D147-9050-4E6A-915B-8BC7A7691ED7" targetRef="_B8A6D2C1-1313-4F2D-BB78-CD8567980CFE">
        <bpmn2:extensionElements>
          <drools:metaData name="elementname">
            <drools:metaValue><![CDATA[Low and Medium Risk]]></drools:metaValue>
          </drools:metaData>
        </bpmn2:extensionElements>
        <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_akaUlHhQEeyNYL7k0LixyA" language="http://www.java.com/java"><![CDATA[return ((KieFunctions.equalsTo((riskCategoryOutput).toString(), "Low"))||(KieFunctions.equalsTo((riskCategoryOutput).toString(), "Medium")));]]></bpmn2:conditionExpression>
      </bpmn2:sequenceFlow>
      <bpmn2:sequenceFlow id="_76E7CD39-F68C-4B30-B59D-E85E77883BC5" sourceRef="_3660C041-4E85-41BB-AB67-A025ADBD6426" targetRef="_BFA3D147-9050-4E6A-915B-8BC7A7691ED7"/>
      <bpmn2:sequenceFlow id="_85B665EA-BC0C-4A31-97CF-3BBFCF73DEF1" sourceRef="_CB7F193B-0C66-4FE3-8DE0-AFEC2C034C64" targetRef="_EECFC6D7-9BEF-4E59-9BC6-9B267E92EC27"/>
      <bpmn2:sequenceFlow id="_38E7C922-347C-4420-8E56-1858598CD293" sourceRef="_4C3726A5-4512-4884-83F3-3F596F40A9BD" targetRef="_3660C041-4E85-41BB-AB67-A025ADBD6426"/>
      <bpmn2:sequenceFlow id="_817953A9-2D97-42F4-844B-9258D67A6CF8" sourceRef="_EECFC6D7-9BEF-4E59-9BC6-9B267E92EC27" targetRef="_4C3726A5-4512-4884-83F3-3F596F40A9BD"/>
      <bpmn2:endEvent id="_9A23A8D4-2A50-4965-8AA2-4BF9CA058D8F">
        <bpmn2:incoming>_6D176E17-AAE7-40E8-A302-B272CF4291BA</bpmn2:incoming>
      </bpmn2:endEvent>
      <bpmn2:startEvent id="_CB7F193B-0C66-4FE3-8DE0-AFEC2C034C64">
        <bpmn2:outgoing>_85B665EA-BC0C-4A31-97CF-3BBFCF73DEF1</bpmn2:outgoing>
      </bpmn2:startEvent>
      <bpmn2:callActivity id="_3660C041-4E85-41BB-AB67-A025ADBD6426" drools:independent="false" drools:waitForCompletion="true" name="saveSMERisk" calledElement="InfinityAssist.saveSMERiskScoreData">
        <bpmn2:extensionElements>
          <drools:metaData name="elementname">
            <drools:metaValue><![CDATA[saveSMERisk]]></drools:metaValue>
          </drools:metaData>
          <drools:onEntry-script scriptFormat="http://www.java.com/java">
            <drools:script><![CDATA[System.out.println("DEBUG- start SMERiskScore in SMEExecuteRiskScore");
 org.json.JSONObject finalScoresValue = new org.json.JSONObject();
 int i=0;
 
 if(String.valueOf(kcontext.getVariable("partyType")) != null &&(String.valueOf(kcontext.getVariable("partyType"))).equalsIgnoreCase("Individual")){
 if(kcontext.getVariable("partyBureauScore") == null){
  kcontext.setVariable("partyBureauScore", 0);
  }
 finalScoresValue.put("bureauScore",kcontext.getVariable("partyBureauScore").toString());
 if(kcontext.getVariable("partyAgeScore") == null){
  kcontext.setVariable("partyAgeScore", i);
  }
 finalScoresValue.put("age",kcontext.getVariable("partyAgeScore").toString());
 
 } else if(String.valueOf(kcontext.getVariable("partyType")) != null  &&(String.valueOf(kcontext.getVariable("partyType"))).equalsIgnoreCase("Organisation")){
 if(kcontext.getVariable("companyBureauScore") == null){
  kcontext.setVariable("companyBureauScore", i);
  }
 finalScoresValue.put("bureauScore",kcontext.getVariable("companyBureauScore").toString());
 
 if(kcontext.getVariable("yearsOfOperationScore") == null){
  kcontext.setVariable("yearsOfOperationScore", i);
  }
finalScoresValue.put("yearsOfOperation",kcontext.getVariable("yearsOfOperationScore").toString());
 
 
 
 }
 if(kcontext.getVariable("relationshipWithBankScore") == null){
  kcontext.setVariable("relationshipWithBankScore", i);
  }
 finalScoresValue.put("relationshipWithBank",kcontext.getVariable("relationshipWithBankScore").toString());
 

kcontext.setVariable("finalScores", finalScoresValue.toString());
java.util.HashMap<String,String> payload = new java.util.HashMap<String, String>();
payload.put("requestId",kcontext.getVariable("requestId").toString());
payload.put("facilityId",kcontext.getVariable("facilityId").toString());
//payload.put("partyId", kcontext.getVariable("partyId").toString());
payload.put("partyType", kcontext.getVariable("partyType").toString());
//  if(kcontext.getVariable("riskScoreOutput") == null){
//   kcontext.setVariable("riskScoreOutput", i);
//   }
payload.put("totalScore", String.valueOf(kcontext.getVariable("riskScoreOutput")));
// if(kcontext.getVariable("ratingScoreOutput") == null){
//   kcontext.setVariable("ratingScoreOutput", i);
//   }
payload.put("ratingScore", String.valueOf(kcontext.getVariable("ratingScoreOutput")));
// if(kcontext.getVariable("riskCategoryOutput") == null){
//   kcontext.setVariable("riskCategoryOutput", i);
//   }
payload.put("riskCategory",String.valueOf(kcontext.getVariable("riskCategoryOutput")));
payload.put("finalScores", kcontext.getVariable("finalScores").toString());
payload.put("riskScoreCardValues", String.valueOf(kcontext.getVariable("riskScoreCardValues")));
kcontext.setVariable("payloadMap", payload);
System.out.println("DEBUG- end of payload preparation SMERiskScore in SMEExecuteRiskScore");]]></drools:script>
          </drools:onEntry-script>
          <drools:onExit-script scriptFormat="http://www.java.com/java">
            <drools:script><![CDATA[System.out.println("DEBUG- ON EXit of SMERiskScore in SMEExecuteRiskScore");]]></drools:script>
          </drools:onExit-script>
          <drools:metaData name="customAbortParent">
            <drools:metaValue><![CDATA[false]]></drools:metaValue>
          </drools:metaData>
        </bpmn2:extensionElements>
        <bpmn2:incoming>_38E7C922-347C-4420-8E56-1858598CD293</bpmn2:incoming>
        <bpmn2:outgoing>_76E7CD39-F68C-4B30-B59D-E85E77883BC5</bpmn2:outgoing>
        <bpmn2:ioSpecification id="_akaUlXhQEeyNYL7k0LixyA">
          <bpmn2:dataInput id="_3660C041-4E85-41BB-AB67-A025ADBD6426_payloadMapInputX" drools:dtype="String" itemSubjectRef="__3660C041-4E85-41BB-AB67-A025ADBD6426_payloadMapInputXItem" name="payloadMap"/>
          <bpmn2:dataInput id="_3660C041-4E85-41BB-AB67-A025ADBD6426_authorizationInputX" drools:dtype="String" itemSubjectRef="__3660C041-4E85-41BB-AB67-A025ADBD6426_authorizationInputXItem" name="authorization"/>
          <bpmn2:dataInput id="_3660C041-4E85-41BB-AB67-A025ADBD6426_partyIdInputX" drools:dtype="String" itemSubjectRef="__3660C041-4E85-41BB-AB67-A025ADBD6426_partyIdInputXItem" name="partyId"/>
          <bpmn2:inputSet id="_akaUlnhQEeyNYL7k0LixyA">
            <bpmn2:dataInputRefs>_3660C041-4E85-41BB-AB67-A025ADBD6426_payloadMapInputX</bpmn2:dataInputRefs>
            <bpmn2:dataInputRefs>_3660C041-4E85-41BB-AB67-A025ADBD6426_authorizationInputX</bpmn2:dataInputRefs>
            <bpmn2:dataInputRefs>_3660C041-4E85-41BB-AB67-A025ADBD6426_partyIdInputX</bpmn2:dataInputRefs>
          </bpmn2:inputSet>
        </bpmn2:ioSpecification>
        <bpmn2:dataInputAssociation id="_akaUl3hQEeyNYL7k0LixyA">
          <bpmn2:sourceRef>payloadMap</bpmn2:sourceRef>
          <bpmn2:targetRef>_3660C041-4E85-41BB-AB67-A025ADBD6426_payloadMapInputX</bpmn2:targetRef>
        </bpmn2:dataInputAssociation>
        <bpmn2:dataInputAssociation id="_akaUmHhQEeyNYL7k0LixyA">
          <bpmn2:sourceRef>authorization</bpmn2:sourceRef>
          <bpmn2:targetRef>_3660C041-4E85-41BB-AB67-A025ADBD6426_authorizationInputX</bpmn2:targetRef>
        </bpmn2:dataInputAssociation>
        <bpmn2:dataInputAssociation id="_akaUmXhQEeyNYL7k0LixyA">
          <bpmn2:targetRef>_3660C041-4E85-41BB-AB67-A025ADBD6426_partyIdInputX</bpmn2:targetRef>
          <bpmn2:assignment id="_akaUmnhQEeyNYL7k0LixyA">
            <bpmn2:from xsi:type="bpmn2:tFormalExpression" id="_akaUm3hQEeyNYL7k0LixyA"><![CDATA[#{partyId}]]></bpmn2:from>
            <bpmn2:to xsi:type="bpmn2:tFormalExpression" id="_akaUnHhQEeyNYL7k0LixyA">_3660C041-4E85-41BB-AB67-A025ADBD6426_partyIdInputX</bpmn2:to>
          </bpmn2:assignment>
        </bpmn2:dataInputAssociation>
      </bpmn2:callActivity>
      <bpmn2:exclusiveGateway id="_B8A6D2C1-1313-4F2D-BB78-CD8567980CFE" gatewayDirection="Converging">
        <bpmn2:incoming>_AC7A2849-F621-4C06-B3BE-360DB91F0B48</bpmn2:incoming>
        <bpmn2:incoming>_FE2ECF01-78F7-4C55-BB9B-BCCB72814A9F</bpmn2:incoming>
        <bpmn2:outgoing>_6D176E17-AAE7-40E8-A302-B272CF4291BA</bpmn2:outgoing>
      </bpmn2:exclusiveGateway>
      <bpmn2:callActivity id="_D705C50D-A740-4667-BDFA-612B95110FCA" drools:independent="false" drools:waitForCompletion="true" name="review Risk Assessment" calledElement="InfinityAssist.SMEReviewRiskAssessment">
        <bpmn2:extensionElements>
          <drools:metaData name="elementname">
            <drools:metaValue><![CDATA[review Risk Assessment]]></drools:metaValue>
          </drools:metaData>
          <drools:onEntry-script scriptFormat="http://www.java.com/java">
            <drools:script><![CDATA[System.out.println("DEBUG- ReviewRiskAssessment start in SMEExecuteRiskScore  ");
]]></drools:script>
          </drools:onEntry-script>
          <drools:onExit-script scriptFormat="http://www.java.com/java">
            <drools:script><![CDATA[System.out.println("DEBUG- ReviewRiskAssessment end in SMEExecuteRiskScore  ");
]]></drools:script>
          </drools:onExit-script>
          <drools:metaData name="customAbortParent">
            <drools:metaValue><![CDATA[false]]></drools:metaValue>
          </drools:metaData>
        </bpmn2:extensionElements>
        <bpmn2:incoming>_8271F013-5BED-4B8A-8C73-163411ABFB93</bpmn2:incoming>
        <bpmn2:outgoing>_FE2ECF01-78F7-4C55-BB9B-BCCB72814A9F</bpmn2:outgoing>
        <bpmn2:ioSpecification id="_akaUnXhQEeyNYL7k0LixyA">
          <bpmn2:dataInput id="_D705C50D-A740-4667-BDFA-612B95110FCA_applicationInputX" drools:dtype="String" itemSubjectRef="__D705C50D-A740-4667-BDFA-612B95110FCA_applicationInputXItem" name="application"/>
          <bpmn2:dataInput id="_D705C50D-A740-4667-BDFA-612B95110FCA_requestIdInputX" drools:dtype="String" itemSubjectRef="__D705C50D-A740-4667-BDFA-612B95110FCA_requestIdInputXItem" name="requestId"/>
          <bpmn2:dataInput id="_D705C50D-A740-4667-BDFA-612B95110FCA_dealIdInputX" drools:dtype="String" itemSubjectRef="__D705C50D-A740-4667-BDFA-612B95110FCA_dealIdInputXItem" name="dealId"/>
          <bpmn2:dataInput id="_D705C50D-A740-4667-BDFA-612B95110FCA_partyIdInputX" drools:dtype="String" itemSubjectRef="__D705C50D-A740-4667-BDFA-612B95110FCA_partyIdInputXItem" name="partyId"/>
          <bpmn2:dataInput id="_D705C50D-A740-4667-BDFA-612B95110FCA_stageInputX" drools:dtype="String" itemSubjectRef="__D705C50D-A740-4667-BDFA-612B95110FCA_stageInputXItem" name="stage"/>
          <bpmn2:dataInput id="_D705C50D-A740-4667-BDFA-612B95110FCA_countInputX" drools:dtype="Integer" itemSubjectRef="__D705C50D-A740-4667-BDFA-612B95110FCA_countInputXItem" name="count"/>
          <bpmn2:dataInput id="_D705C50D-A740-4667-BDFA-612B95110FCA_isTaskProcessInputX" drools:dtype="String" itemSubjectRef="__D705C50D-A740-4667-BDFA-612B95110FCA_isTaskProcessInputXItem" name="isTaskProcess"/>
          <bpmn2:inputSet id="_akaUnnhQEeyNYL7k0LixyA">
            <bpmn2:dataInputRefs>_D705C50D-A740-4667-BDFA-612B95110FCA_applicationInputX</bpmn2:dataInputRefs>
            <bpmn2:dataInputRefs>_D705C50D-A740-4667-BDFA-612B95110FCA_requestIdInputX</bpmn2:dataInputRefs>
            <bpmn2:dataInputRefs>_D705C50D-A740-4667-BDFA-612B95110FCA_dealIdInputX</bpmn2:dataInputRefs>
            <bpmn2:dataInputRefs>_D705C50D-A740-4667-BDFA-612B95110FCA_partyIdInputX</bpmn2:dataInputRefs>
            <bpmn2:dataInputRefs>_D705C50D-A740-4667-BDFA-612B95110FCA_stageInputX</bpmn2:dataInputRefs>
            <bpmn2:dataInputRefs>_D705C50D-A740-4667-BDFA-612B95110FCA_countInputX</bpmn2:dataInputRefs>
            <bpmn2:dataInputRefs>_D705C50D-A740-4667-BDFA-612B95110FCA_isTaskProcessInputX</bpmn2:dataInputRefs>
          </bpmn2:inputSet>
        </bpmn2:ioSpecification>
        <bpmn2:dataInputAssociation id="_akaUn3hQEeyNYL7k0LixyA">
          <bpmn2:sourceRef>application</bpmn2:sourceRef>
          <bpmn2:targetRef>_D705C50D-A740-4667-BDFA-612B95110FCA_applicationInputX</bpmn2:targetRef>
        </bpmn2:dataInputAssociation>
        <bpmn2:dataInputAssociation id="_akaUoHhQEeyNYL7k0LixyA">
          <bpmn2:sourceRef>requestId</bpmn2:sourceRef>
          <bpmn2:targetRef>_D705C50D-A740-4667-BDFA-612B95110FCA_requestIdInputX</bpmn2:targetRef>
        </bpmn2:dataInputAssociation>
        <bpmn2:dataInputAssociation id="_akaUoXhQEeyNYL7k0LixyA">
          <bpmn2:sourceRef>dealId</bpmn2:sourceRef>
          <bpmn2:targetRef>_D705C50D-A740-4667-BDFA-612B95110FCA_dealIdInputX</bpmn2:targetRef>
        </bpmn2:dataInputAssociation>
        <bpmn2:dataInputAssociation id="_akaUonhQEeyNYL7k0LixyA">
          <bpmn2:sourceRef>partyId</bpmn2:sourceRef>
          <bpmn2:targetRef>_D705C50D-A740-4667-BDFA-612B95110FCA_partyIdInputX</bpmn2:targetRef>
        </bpmn2:dataInputAssociation>
        <bpmn2:dataInputAssociation id="_akaUo3hQEeyNYL7k0LixyA">
          <bpmn2:targetRef>_D705C50D-A740-4667-BDFA-612B95110FCA_stageInputX</bpmn2:targetRef>
          <bpmn2:assignment id="_akaUpHhQEeyNYL7k0LixyA">
            <bpmn2:from xsi:type="bpmn2:tFormalExpression" id="_akaUpXhQEeyNYL7k0LixyA"><![CDATA["04"]]></bpmn2:from>
            <bpmn2:to xsi:type="bpmn2:tFormalExpression" id="_akaUpnhQEeyNYL7k0LixyA">_D705C50D-A740-4667-BDFA-612B95110FCA_stageInputX</bpmn2:to>
          </bpmn2:assignment>
        </bpmn2:dataInputAssociation>
        <bpmn2:dataInputAssociation id="_akaUp3hQEeyNYL7k0LixyA">
          <bpmn2:targetRef>_D705C50D-A740-4667-BDFA-612B95110FCA_countInputX</bpmn2:targetRef>
          <bpmn2:assignment id="_akaUqHhQEeyNYL7k0LixyA">
            <bpmn2:from xsi:type="bpmn2:tFormalExpression" id="_akaUqXhQEeyNYL7k0LixyA"><![CDATA[0]]></bpmn2:from>
            <bpmn2:to xsi:type="bpmn2:tFormalExpression" id="_akaUqnhQEeyNYL7k0LixyA">_D705C50D-A740-4667-BDFA-612B95110FCA_countInputX</bpmn2:to>
          </bpmn2:assignment>
        </bpmn2:dataInputAssociation>
        <bpmn2:dataInputAssociation id="_akaUq3hQEeyNYL7k0LixyA">
          <bpmn2:targetRef>_D705C50D-A740-4667-BDFA-612B95110FCA_isTaskProcessInputX</bpmn2:targetRef>
          <bpmn2:assignment id="_akaUrHhQEeyNYL7k0LixyA">
            <bpmn2:from xsi:type="bpmn2:tFormalExpression" id="_akaUrXhQEeyNYL7k0LixyA"><![CDATA["true"]]></bpmn2:from>
            <bpmn2:to xsi:type="bpmn2:tFormalExpression" id="_akaUrnhQEeyNYL7k0LixyA">_D705C50D-A740-4667-BDFA-612B95110FCA_isTaskProcessInputX</bpmn2:to>
          </bpmn2:assignment>
        </bpmn2:dataInputAssociation>
      </bpmn2:callActivity>
      <bpmn2:exclusiveGateway id="_BFA3D147-9050-4E6A-915B-8BC7A7691ED7" gatewayDirection="Diverging">
        <bpmn2:incoming>_76E7CD39-F68C-4B30-B59D-E85E77883BC5</bpmn2:incoming>
        <bpmn2:outgoing>_AC7A2849-F621-4C06-B3BE-360DB91F0B48</bpmn2:outgoing>
        <bpmn2:outgoing>_8271F013-5BED-4B8A-8C73-163411ABFB93</bpmn2:outgoing>
      </bpmn2:exclusiveGateway>
      <bpmn2:scriptTask id="_EECFC6D7-9BEF-4E59-9BC6-9B267E92EC27" name="Prepare DTO for DMN" scriptFormat="http://www.java.com/java">
        <bpmn2:extensionElements>
          <drools:metaData name="elementname">
            <drools:metaValue><![CDATA[Prepare DTO for DMN]]></drools:metaValue>
          </drools:metaData>
        </bpmn2:extensionElements>
        <bpmn2:incoming>_85B665EA-BC0C-4A31-97CF-3BBFCF73DEF1</bpmn2:incoming>
        <bpmn2:outgoing>_817953A9-2D97-42F4-844B-9258D67A6CF8</bpmn2:outgoing>
        <bpmn2:script><![CDATA[System.out.println("DEBUG - Execute RiskScore Card DTOOOOOOOOO preparing start in SMEExecuteRiskScore");
com.temenos.infinityassist.sme.SMEScripts.formatSMERiskScoreCardInput(kcontext,partyId.toString());

System.out.println("DEBUG - Execute RiskScore Card DTOOOOOOOOO preparing end in SMEExecuteRiskScore");]]></bpmn2:script>
      </bpmn2:scriptTask>
      <bpmn2:businessRuleTask id="_4C3726A5-4512-4884-83F3-3F596F40A9BD" name="execute RiskScore DMN" implementation="http://www.jboss.org/drools/dmn">
        <bpmn2:extensionElements>
          <drools:metaData name="elementname">
            <drools:metaValue><![CDATA[execute RiskScore DMN]]></drools:metaValue>
          </drools:metaData>
          <drools:onEntry-script scriptFormat="http://www.java.com/java">
            <drools:script><![CDATA[System.out.println("DEBUG - Execute RiskScore Card Dmnnnnnnnn start in SMEExecuteRiskScore");
System.out.println("passing DTO to DMN :"+kcontext.getVariable("SMERiskScoreParams"));
com.temenos.infinityassist.sme.SMERiskScoreParams testSMERiskParams =(com.temenos.infinityassist.sme.SMERiskScoreParams) kcontext.getVariable("SMERiskScoreParams");
System.out.println("getCompanyBureauScore in DTO :"+testSMERiskParams.getCompanyBureauScore());
System.out.println("getPartyBureauScore in DTO :"+testSMERiskParams.getPartyBureauScore());
System.out.println("getPartyAge in DTO :"+testSMERiskParams.getPartyAge());
System.out.println("getRelationshipWithBank in DTO :"+testSMERiskParams.getRelationshipWithBank());
System.out.println("getYearsOfOperation in DTO :"+testSMERiskParams.getYearsOfOperation());
System.out.println("getPartyType in DTO :"+testSMERiskParams.getPartyType());]]></drools:script>
          </drools:onEntry-script>
          <drools:onExit-script scriptFormat="http://www.java.com/java">
            <drools:script><![CDATA[System.out.println("DEBUG - Execute RiskScore Card Dmnnnnnnnn end in SMEExecuteRiskScore");]]></drools:script>
          </drools:onExit-script>
        </bpmn2:extensionElements>
        <bpmn2:incoming>_817953A9-2D97-42F4-844B-9258D67A6CF8</bpmn2:incoming>
        <bpmn2:outgoing>_38E7C922-347C-4420-8E56-1858598CD293</bpmn2:outgoing>
        <bpmn2:ioSpecification id="_akaUr3hQEeyNYL7k0LixyA">
          <bpmn2:dataInput id="_4C3726A5-4512-4884-83F3-3F596F40A9BD_namespaceInputX" drools:dtype="java.lang.String" itemSubjectRef="__4C3726A5-4512-4884-83F3-3F596F40A9BD_namespaceInputXItem" name="namespace"/>
          <bpmn2:dataInput id="_4C3726A5-4512-4884-83F3-3F596F40A9BD_modelInputX" drools:dtype="java.lang.String" itemSubjectRef="__4C3726A5-4512-4884-83F3-3F596F40A9BD_modelInputXItem" name="model"/>
          <bpmn2:dataInput id="_4C3726A5-4512-4884-83F3-3F596F40A9BD_ParamsInputX" drools:dtype="com.temenos.infinityassist.sme.SMERiskScoreParams" itemSubjectRef="__4C3726A5-4512-4884-83F3-3F596F40A9BD_ParamsInputXItem" name="Params"/>
          <bpmn2:dataOutput id="_4C3726A5-4512-4884-83F3-3F596F40A9BD_riskScoreOutputX" drools:dtype="Integer" itemSubjectRef="__4C3726A5-4512-4884-83F3-3F596F40A9BD_riskScoreOutputXItem" name="riskScore"/>
          <bpmn2:dataOutput id="_4C3726A5-4512-4884-83F3-3F596F40A9BD_ratingScoreOutputX" drools:dtype="String" itemSubjectRef="__4C3726A5-4512-4884-83F3-3F596F40A9BD_ratingScoreOutputXItem" name="ratingScore"/>
          <bpmn2:dataOutput id="_4C3726A5-4512-4884-83F3-3F596F40A9BD_riskCategoryOutputX" drools:dtype="String" itemSubjectRef="__4C3726A5-4512-4884-83F3-3F596F40A9BD_riskCategoryOutputXItem" name="riskCategory"/>
          <bpmn2:dataOutput id="_4C3726A5-4512-4884-83F3-3F596F40A9BD_companyBureauScoreOutputX" drools:dtype="Integer" itemSubjectRef="__4C3726A5-4512-4884-83F3-3F596F40A9BD_companyBureauScoreOutputXItem" name="companyBureauScore"/>
          <bpmn2:dataOutput id="_4C3726A5-4512-4884-83F3-3F596F40A9BD_partyBureauScoreOutputX" drools:dtype="Integer" itemSubjectRef="__4C3726A5-4512-4884-83F3-3F596F40A9BD_partyBureauScoreOutputXItem" name="partyBureauScore"/>
          <bpmn2:dataOutput id="_4C3726A5-4512-4884-83F3-3F596F40A9BD_yearsOfOperationOutputX" drools:dtype="Integer" itemSubjectRef="__4C3726A5-4512-4884-83F3-3F596F40A9BD_yearsOfOperationOutputXItem" name="yearsOfOperation"/>
          <bpmn2:dataOutput id="_4C3726A5-4512-4884-83F3-3F596F40A9BD_partyAgeOutputX" drools:dtype="Integer" itemSubjectRef="__4C3726A5-4512-4884-83F3-3F596F40A9BD_partyAgeOutputXItem" name="partyAge"/>
          <bpmn2:dataOutput id="_4C3726A5-4512-4884-83F3-3F596F40A9BD_relationshipWithBankOutputX" drools:dtype="Integer" itemSubjectRef="__4C3726A5-4512-4884-83F3-3F596F40A9BD_relationshipWithBankOutputXItem" name="relationshipWithBank"/>
          <bpmn2:inputSet id="_akaUsHhQEeyNYL7k0LixyA">
            <bpmn2:dataInputRefs>_4C3726A5-4512-4884-83F3-3F596F40A9BD_namespaceInputX</bpmn2:dataInputRefs>
            <bpmn2:dataInputRefs>_4C3726A5-4512-4884-83F3-3F596F40A9BD_modelInputX</bpmn2:dataInputRefs>
            <bpmn2:dataInputRefs>_4C3726A5-4512-4884-83F3-3F596F40A9BD_ParamsInputX</bpmn2:dataInputRefs>
          </bpmn2:inputSet>
          <bpmn2:outputSet id="_akaUsXhQEeyNYL7k0LixyA">
            <bpmn2:dataOutputRefs>_4C3726A5-4512-4884-83F3-3F596F40A9BD_riskScoreOutputX</bpmn2:dataOutputRefs>
            <bpmn2:dataOutputRefs>_4C3726A5-4512-4884-83F3-3F596F40A9BD_ratingScoreOutputX</bpmn2:dataOutputRefs>
            <bpmn2:dataOutputRefs>_4C3726A5-4512-4884-83F3-3F596F40A9BD_riskCategoryOutputX</bpmn2:dataOutputRefs>
            <bpmn2:dataOutputRefs>_4C3726A5-4512-4884-83F3-3F596F40A9BD_companyBureauScoreOutputX</bpmn2:dataOutputRefs>
            <bpmn2:dataOutputRefs>_4C3726A5-4512-4884-83F3-3F596F40A9BD_partyBureauScoreOutputX</bpmn2:dataOutputRefs>
            <bpmn2:dataOutputRefs>_4C3726A5-4512-4884-83F3-3F596F40A9BD_yearsOfOperationOutputX</bpmn2:dataOutputRefs>
            <bpmn2:dataOutputRefs>_4C3726A5-4512-4884-83F3-3F596F40A9BD_partyAgeOutputX</bpmn2:dataOutputRefs>
            <bpmn2:dataOutputRefs>_4C3726A5-4512-4884-83F3-3F596F40A9BD_relationshipWithBankOutputX</bpmn2:dataOutputRefs>
          </bpmn2:outputSet>
        </bpmn2:ioSpecification>
        <bpmn2:dataInputAssociation id="_akaUsnhQEeyNYL7k0LixyA">
          <bpmn2:targetRef>_4C3726A5-4512-4884-83F3-3F596F40A9BD_namespaceInputX</bpmn2:targetRef>
          <bpmn2:assignment id="_akaUs3hQEeyNYL7k0LixyA">
            <bpmn2:from xsi:type="bpmn2:tFormalExpression" id="_akaUtHhQEeyNYL7k0LixyA"><![CDATA[https://kiegroup.org/dmn/_6001E744-E513-4162-AA50-110E184AD540]]></bpmn2:from>
            <bpmn2:to xsi:type="bpmn2:tFormalExpression" id="_akaUtXhQEeyNYL7k0LixyA">_4C3726A5-4512-4884-83F3-3F596F40A9BD_namespaceInputX</bpmn2:to>
          </bpmn2:assignment>
        </bpmn2:dataInputAssociation>
        <bpmn2:dataInputAssociation id="_akaUtnhQEeyNYL7k0LixyA">
          <bpmn2:targetRef>_4C3726A5-4512-4884-83F3-3F596F40A9BD_modelInputX</bpmn2:targetRef>
          <bpmn2:assignment id="_akaUt3hQEeyNYL7k0LixyA">
            <bpmn2:from xsi:type="bpmn2:tFormalExpression" id="_akaUuHhQEeyNYL7k0LixyA"><![CDATA[SMERiskScoreCardDMN]]></bpmn2:from>
            <bpmn2:to xsi:type="bpmn2:tFormalExpression" id="_akaUuXhQEeyNYL7k0LixyA">_4C3726A5-4512-4884-83F3-3F596F40A9BD_modelInputX</bpmn2:to>
          </bpmn2:assignment>
        </bpmn2:dataInputAssociation>
        <bpmn2:dataInputAssociation id="_akaUunhQEeyNYL7k0LixyA">
          <bpmn2:sourceRef>SMERiskScoreParams</bpmn2:sourceRef>
          <bpmn2:targetRef>_4C3726A5-4512-4884-83F3-3F596F40A9BD_ParamsInputX</bpmn2:targetRef>
        </bpmn2:dataInputAssociation>
        <bpmn2:dataOutputAssociation id="_akaUu3hQEeyNYL7k0LixyA">
          <bpmn2:sourceRef>_4C3726A5-4512-4884-83F3-3F596F40A9BD_riskScoreOutputX</bpmn2:sourceRef>
          <bpmn2:targetRef>riskScoreOutput</bpmn2:targetRef>
        </bpmn2:dataOutputAssociation>
        <bpmn2:dataOutputAssociation id="_akaUvHhQEeyNYL7k0LixyA">
          <bpmn2:sourceRef>_4C3726A5-4512-4884-83F3-3F596F40A9BD_ratingScoreOutputX</bpmn2:sourceRef>
          <bpmn2:targetRef>ratingScoreOutput</bpmn2:targetRef>
        </bpmn2:dataOutputAssociation>
        <bpmn2:dataOutputAssociation id="_akaUvXhQEeyNYL7k0LixyA">
          <bpmn2:sourceRef>_4C3726A5-4512-4884-83F3-3F596F40A9BD_riskCategoryOutputX</bpmn2:sourceRef>
          <bpmn2:targetRef>riskCategoryOutput</bpmn2:targetRef>
        </bpmn2:dataOutputAssociation>
        <bpmn2:dataOutputAssociation id="_akaUvnhQEeyNYL7k0LixyA">
          <bpmn2:sourceRef>_4C3726A5-4512-4884-83F3-3F596F40A9BD_companyBureauScoreOutputX</bpmn2:sourceRef>
          <bpmn2:targetRef>companyBureauScore</bpmn2:targetRef>
        </bpmn2:dataOutputAssociation>
        <bpmn2:dataOutputAssociation id="_akaUv3hQEeyNYL7k0LixyA">
          <bpmn2:sourceRef>_4C3726A5-4512-4884-83F3-3F596F40A9BD_partyBureauScoreOutputX</bpmn2:sourceRef>
          <bpmn2:targetRef>partyBureauScore</bpmn2:targetRef>
        </bpmn2:dataOutputAssociation>
        <bpmn2:dataOutputAssociation id="_akaUwHhQEeyNYL7k0LixyA">
          <bpmn2:sourceRef>_4C3726A5-4512-4884-83F3-3F596F40A9BD_yearsOfOperationOutputX</bpmn2:sourceRef>
          <bpmn2:targetRef>yearsOfOperationScore</bpmn2:targetRef>
        </bpmn2:dataOutputAssociation>
        <bpmn2:dataOutputAssociation id="_akaUwXhQEeyNYL7k0LixyA">
          <bpmn2:sourceRef>_4C3726A5-4512-4884-83F3-3F596F40A9BD_partyAgeOutputX</bpmn2:sourceRef>
          <bpmn2:targetRef>partyAgeScore</bpmn2:targetRef>
        </bpmn2:dataOutputAssociation>
        <bpmn2:dataOutputAssociation id="_akaUwnhQEeyNYL7k0LixyA">
          <bpmn2:sourceRef>_4C3726A5-4512-4884-83F3-3F596F40A9BD_relationshipWithBankOutputX</bpmn2:sourceRef>
          <bpmn2:targetRef>relationshipWithBankScore</bpmn2:targetRef>
        </bpmn2:dataOutputAssociation>
      </bpmn2:businessRuleTask>
    </bpmn2:subProcess>
  </bpmn2:process>
  <bpmndi:BPMNDiagram id="_akaUw3hQEeyNYL7k0LixyA">
    <bpmndi:BPMNPlane id="_akaUxHhQEeyNYL7k0LixyA" bpmnElement="InfinityAssist.SMEExecuteRiskScore">
      <bpmndi:BPMNShape id="shape__E73A3E0D-4901-49E7-BA9A-A0BB0C75ACBC" bpmnElement="_E73A3E0D-4901-49E7-BA9A-A0BB0C75ACBC">
        <dc:Bounds height="310.0" width="1299.2858" x="473.5" y="113.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape__EECFC6D7-9BEF-4E59-9BC6-9B267E92EC27" bpmnElement="_EECFC6D7-9BEF-4E59-9BC6-9B267E92EC27">
        <dc:Bounds height="102.0" width="154.0" x="609.0" y="242.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="edge_shape__EECFC6D7-9BEF-4E59-9BC6-9B267E92EC27_to_shape__4C3726A5-4512-4884-83F3-3F596F40A9BD" bpmnElement="_817953A9-2D97-42F4-844B-9258D67A6CF8">
        <di:waypoint xsi:type="dc:Point" x="686.0" y="293.0"/>
        <di:waypoint xsi:type="dc:Point" x="814.0" y="294.14285"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge_shape__BFA3D147-9050-4E6A-915B-8BC7A7691ED7_to_shape__B8A6D2C1-1313-4F2D-BB78-CD8567980CFE" bpmnElement="_AC7A2849-F621-4C06-B3BE-360DB91F0B48">
        <di:waypoint xsi:type="dc:Point" x="1247.0" y="293.0"/>
        <di:waypoint xsi:type="dc:Point" x="1350.0" y="293.0"/>
        <di:waypoint xsi:type="dc:Point" x="1526.0" y="291.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="shape__D705C50D-A740-4667-BDFA-612B95110FCA" bpmnElement="_D705C50D-A740-4667-BDFA-612B95110FCA">
        <dc:Bounds height="101.0" width="153.0" x="1344.0" y="163.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="edge_shape__BFA3D147-9050-4E6A-915B-8BC7A7691ED7_to_shape__D705C50D-A740-4667-BDFA-612B95110FCA" bpmnElement="_8271F013-5BED-4B8A-8C73-163411ABFB93">
        <di:waypoint xsi:type="dc:Point" x="1247.0" y="293.0"/>
        <di:waypoint xsi:type="dc:Point" x="1247.0" y="214.5"/>
        <di:waypoint xsi:type="dc:Point" x="1344.0" y="213.5"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="shape__B8A6D2C1-1313-4F2D-BB78-CD8567980CFE" bpmnElement="_B8A6D2C1-1313-4F2D-BB78-CD8567980CFE">
        <dc:Bounds height="56.0" width="56.0" x="1526.0" y="263.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape__3660C041-4E85-41BB-AB67-A025ADBD6426" bpmnElement="_3660C041-4E85-41BB-AB67-A025ADBD6426">
        <dc:Bounds height="101.0" width="153.0" x="1007.0" y="244.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="edge_shape__B8A6D2C1-1313-4F2D-BB78-CD8567980CFE_to_shape__9A23A8D4-2A50-4965-8AA2-4BF9CA058D8F" bpmnElement="_6D176E17-AAE7-40E8-A302-B272CF4291BA">
        <di:waypoint xsi:type="dc:Point" x="1554.0" y="291.0"/>
        <di:waypoint xsi:type="dc:Point" x="1649.0" y="291.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="shape__4C3726A5-4512-4884-83F3-3F596F40A9BD" bpmnElement="_4C3726A5-4512-4884-83F3-3F596F40A9BD">
        <dc:Bounds height="102.0" width="154.0" x="814.0" y="243.14285"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="edge_shape__4C3726A5-4512-4884-83F3-3F596F40A9BD_to_shape__3660C041-4E85-41BB-AB67-A025ADBD6426" bpmnElement="_38E7C922-347C-4420-8E56-1858598CD293">
        <di:waypoint xsi:type="dc:Point" x="891.0" y="294.14285"/>
        <di:waypoint xsi:type="dc:Point" x="1007.0" y="294.5"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="shape__BFA3D147-9050-4E6A-915B-8BC7A7691ED7" bpmnElement="_BFA3D147-9050-4E6A-915B-8BC7A7691ED7">
        <dc:Bounds height="56.0" width="56.0" x="1219.0" y="265.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="edge_shape__3660C041-4E85-41BB-AB67-A025ADBD6426_to_shape__BFA3D147-9050-4E6A-915B-8BC7A7691ED7" bpmnElement="_76E7CD39-F68C-4B30-B59D-E85E77883BC5">
        <di:waypoint xsi:type="dc:Point" x="1083.5" y="294.5"/>
        <di:waypoint xsi:type="dc:Point" x="1219.0" y="293.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge_shape__D705C50D-A740-4667-BDFA-612B95110FCA_to_shape__B8A6D2C1-1313-4F2D-BB78-CD8567980CFE" bpmnElement="_FE2ECF01-78F7-4C55-BB9B-BCCB72814A9F">
        <di:waypoint xsi:type="dc:Point" x="1420.5" y="213.5"/>
        <di:waypoint xsi:type="dc:Point" x="1554.0" y="213.49998"/>
        <di:waypoint xsi:type="dc:Point" x="1554.0" y="263.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="shape__CB7F193B-0C66-4FE3-8DE0-AFEC2C034C64" bpmnElement="_CB7F193B-0C66-4FE3-8DE0-AFEC2C034C64">
        <dc:Bounds height="56.0" width="56.0" x="487.0" y="263.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="edge_shape__CB7F193B-0C66-4FE3-8DE0-AFEC2C034C64_to_shape__EECFC6D7-9BEF-4E59-9BC6-9B267E92EC27" bpmnElement="_85B665EA-BC0C-4A31-97CF-3BBFCF73DEF1">
        <di:waypoint xsi:type="dc:Point" x="515.0" y="291.0"/>
        <di:waypoint xsi:type="dc:Point" x="609.0" y="293.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="shape__9A23A8D4-2A50-4965-8AA2-4BF9CA058D8F" bpmnElement="_9A23A8D4-2A50-4965-8AA2-4BF9CA058D8F">
        <dc:Bounds height="56.0" width="56.0" x="1649.0" y="263.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape__6ABC6745-B763-4950-8B18-B68BCB9DF8CD" bpmnElement="_6ABC6745-B763-4950-8B18-B68BCB9DF8CD">
        <dc:Bounds height="56.0" width="56.0" x="1857.0" y="235.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape__00342198-D266-475F-B203-C1642097C75D" bpmnElement="_00342198-D266-475F-B203-C1642097C75D">
        <dc:Bounds height="102.0" width="154.0" x="169.14285" y="217.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape__BC2046AD-AC69-44BD-98BD-83D85E053681" bpmnElement="_BC2046AD-AC69-44BD-98BD-83D85E053681">
        <dc:Bounds height="56.0" width="56.0" x="54.0" y="236.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="edge_shape__E73A3E0D-4901-49E7-BA9A-A0BB0C75ACBC_to_shape__6ABC6745-B763-4950-8B18-B68BCB9DF8CD" bpmnElement="_F20B4932-2141-40F5-8CE9-109020BB93B3">
        <di:waypoint xsi:type="dc:Point" x="1123.1428" y="268.0"/>
        <di:waypoint xsi:type="dc:Point" x="1857.0" y="263.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge_shape__BC2046AD-AC69-44BD-98BD-83D85E053681_to_shape__00342198-D266-475F-B203-C1642097C75D" bpmnElement="_73C3AD81-C614-4A70-885A-D3FFDE7FDEBF">
        <di:waypoint xsi:type="dc:Point" x="82.0" y="264.0"/>
        <di:waypoint xsi:type="dc:Point" x="169.14285" y="268.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge_shape__00342198-D266-475F-B203-C1642097C75D_to_shape__E73A3E0D-4901-49E7-BA9A-A0BB0C75ACBC" bpmnElement="_08638B21-0339-41D5-BA62-166B2AA4701C">
        <di:waypoint xsi:type="dc:Point" x="246.14285" y="268.0"/>
        <di:waypoint xsi:type="dc:Point" x="473.5" y="268.0"/>
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
  <bpmn2:relationship id="_akaUxXhQEeyNYL7k0LixyA" type="BPSimData">
    <bpmn2:extensionElements>
      <bpsim:BPSimData>
        <bpsim:Scenario xsi:type="bpsim:Scenario" id="default" name="Simulationscenario">
          <bpsim:ScenarioParameters xsi:type="bpsim:ScenarioParameters"/>
          <bpsim:ElementParameters xsi:type="bpsim:ElementParameters" elementRef="_00342198-D266-475F-B203-C1642097C75D" id="_akaUxnhQEeyNYL7k0LixyA">
            <bpsim:TimeParameters xsi:type="bpsim:TimeParameters">
              <bpsim:ProcessingTime xsi:type="bpsim:Parameter">
                <bpsim:NormalDistribution mean="0.0" standardDeviation="0.0"/>
              </bpsim:ProcessingTime>
            </bpsim:TimeParameters>
            <bpsim:ResourceParameters xsi:type="bpsim:ResourceParameters">
              <bpsim:Availability xsi:type="bpsim:Parameter">
                <bpsim:FloatingParameter value="0.0"/>
              </bpsim:Availability>
              <bpsim:Quantity xsi:type="bpsim:Parameter">
                <bpsim:FloatingParameter value="0.0"/>
              </bpsim:Quantity>
            </bpsim:ResourceParameters>
            <bpsim:CostParameters xsi:type="bpsim:CostParameters">
              <bpsim:UnitCost xsi:type="bpsim:Parameter">
                <bpsim:FloatingParameter value="0.0"/>
              </bpsim:UnitCost>
            </bpsim:CostParameters>
          </bpsim:ElementParameters>
          <bpsim:ElementParameters xsi:type="bpsim:ElementParameters" elementRef="_BC2046AD-AC69-44BD-98BD-83D85E053681" id="_akaUx3hQEeyNYL7k0LixyA">
            <bpsim:TimeParameters xsi:type="bpsim:TimeParameters">
              <bpsim:ProcessingTime xsi:type="bpsim:Parameter">
                <bpsim:NormalDistribution mean="0.0" standardDeviation="0.0"/>
              </bpsim:ProcessingTime>
            </bpsim:TimeParameters>
          </bpsim:ElementParameters>
        </bpsim:Scenario>
      </bpsim:BPSimData>
    </bpmn2:extensionElements>
    <bpmn2:source>_akZtgHhQEeyNYL7k0LixyA</bpmn2:source>
    <bpmn2:target>_akZtgHhQEeyNYL7k0LixyA</bpmn2:target>
  </bpmn2:relationship>
</bpmn2:definitions>
