<?xml version="1.0" encoding="UTF-8"?>
<bpmn2:definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://www.omg.org/bpmn20" xmlns:bpmn2="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:bpsim="http://www.bpsim.org/schemas/1.0" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:drools="http://www.jboss.org/drools" id="_4swmwErLEe2fj6tdsZobPQ" xsi:schemaLocation="http://www.omg.org/spec/BPMN/20100524/MODEL BPMN20.xsd http://www.jboss.org/drools drools.xsd http://www.bpsim.org/schemas/1.0 bpsim.xsd http://www.omg.org/spec/DD/20100524/DC DC.xsd http://www.omg.org/spec/DD/20100524/DI DI.xsd " exporter="jBPM Process Modeler" exporterVersion="2.0" targetNamespace="http://www.omg.org/bpmn20">
  <bpmn2:itemDefinition id="_partyIdItem" structureRef="String"/>
  <bpmn2:itemDefinition id="_dealIdItem" structureRef="String"/>
  <bpmn2:itemDefinition id="_facilityIdItem" structureRef="String"/>
  <bpmn2:itemDefinition id="_requestIdItem" structureRef="String"/>
  <bpmn2:itemDefinition id="_payloadMapItem" structureRef="java.util.HashMap"/>
  <bpmn2:itemDefinition id="_responseItem" structureRef="String"/>
  <bpmn2:itemDefinition id="_collateralListItem" structureRef="java.util.ArrayList"/>
  <bpmn2:itemDefinition id="_relationshipManagerItem" structureRef="String"/>
  <bpmn2:itemDefinition id="_collateralAmendmentItem" structureRef="Boolean"/>
  <bpmn2:itemDefinition id="_modAmendCollateralsListItem" structureRef="java.util.ArrayList"/>
  <bpmn2:itemDefinition id="_colIdNameMapItem" structureRef="java.util.HashMap"/>
  <bpmn2:itemDefinition id="_A2E6F966-AE8B-4D8B-BD39-82B4245E2033_multiInstanceItemType_collateral" structureRef="String"/>
  <bpmn2:itemDefinition id="__3FA59045-BF9D-4D7A-88B7-BFAD6BD6241E_dealIdInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__3FA59045-BF9D-4D7A-88B7-BFAD6BD6241E_partyIdInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__3FA59045-BF9D-4D7A-88B7-BFAD6BD6241E_facilityIdInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__3FA59045-BF9D-4D7A-88B7-BFAD6BD6241E_requestIdInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__3FA59045-BF9D-4D7A-88B7-BFAD6BD6241E_collateralIdInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__3FA59045-BF9D-4D7A-88B7-BFAD6BD6241E_applicationInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__3FA59045-BF9D-4D7A-88B7-BFAD6BD6241E_stageInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__3FA59045-BF9D-4D7A-88B7-BFAD6BD6241E_isTaskProcessInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__3FA59045-BF9D-4D7A-88B7-BFAD6BD6241E_countInputXItem" structureRef="Integer"/>
  <bpmn2:itemDefinition id="__3FA59045-BF9D-4D7A-88B7-BFAD6BD6241E_relationshipManagerInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__3FA59045-BF9D-4D7A-88B7-BFAD6BD6241E_colIdNameMapInputXItem" structureRef="java.util.HashMap"/>
  <bpmn2:itemDefinition id="__1506F99B-00E3-4DAE-B4F5-45818A1088A9_AdditionalParametersInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__1506F99B-00E3-4DAE-B4F5-45818A1088A9_OperationNameInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__1506F99B-00E3-4DAE-B4F5-45818A1088A9_ServiceNameInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__1506F99B-00E3-4DAE-B4F5-45818A1088A9_ApplicationIdInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__1506F99B-00E3-4DAE-B4F5-45818A1088A9_AuthorizationInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__1506F99B-00E3-4DAE-B4F5-45818A1088A9_CIFInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__1506F99B-00E3-4DAE-B4F5-45818A1088A9_ErrorProcessInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__1506F99B-00E3-4DAE-B4F5-45818A1088A9_FacilityIdInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__1506F99B-00E3-4DAE-B4F5-45818A1088A9_ObjectNameInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__1506F99B-00E3-4DAE-B4F5-45818A1088A9_PartyIdInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__1506F99B-00E3-4DAE-B4F5-45818A1088A9_RequestIdInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__1506F99B-00E3-4DAE-B4F5-45818A1088A9_ResultOutputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__1506F99B-00E3-4DAE-B4F5-45818A1088A9_AuthorizationOutputXItem" structureRef="String"/>
  <bpmn2:process id="InfinityAssist.ReviewAppraisalCollateralLoop" drools:packageName="com.myspace.corporatelos.creditpackaging" drools:version="1.0" drools:adHoc="false" name="Review Appraisal Collateral Loop" isExecutable="true" processType="Public">
    <bpmn2:extensionElements>
      <drools:metaData name="customDescription">
        <drools:metaValue><![CDATA["confirm the value of the collateral”]]></drools:metaValue>
      </drools:metaData>
      <drools:import name="org.json.JSONObject"/>
      <drools:import name="org.json.JSONArray"/>
      <drools:import name="java.util.HashMap"/>
      <drools:import name="java.util.ArrayList"/>
      <drools:metaData name="customDescription">
        <drools:metaValue><![CDATA["confirm the value of the collateral”]]></drools:metaValue>
      </drools:metaData>
      <drools:metaData name="customDescription">
        <drools:metaValue><![CDATA["confirm the value of the collateral”]]></drools:metaValue>
      </drools:metaData>
    </bpmn2:extensionElements>
    <bpmn2:property id="partyId" itemSubjectRef="_partyIdItem" name="partyId"/>
    <bpmn2:property id="dealId" itemSubjectRef="_dealIdItem" name="dealId"/>
    <bpmn2:property id="facilityId" itemSubjectRef="_facilityIdItem" name="facilityId"/>
    <bpmn2:property id="requestId" itemSubjectRef="_requestIdItem" name="requestId"/>
    <bpmn2:property id="payloadMap" itemSubjectRef="_payloadMapItem" name="payloadMap"/>
    <bpmn2:property id="response" itemSubjectRef="_responseItem" name="response"/>
    <bpmn2:property id="collateralList" itemSubjectRef="_collateralListItem" name="collateralList"/>
    <bpmn2:property id="relationshipManager" itemSubjectRef="_relationshipManagerItem" name="relationshipManager"/>
    <bpmn2:property id="collateralAmendment" itemSubjectRef="_collateralAmendmentItem" name="collateralAmendment"/>
    <bpmn2:property id="modAmendCollateralsList" itemSubjectRef="_modAmendCollateralsListItem" name="modAmendCollateralsList"/>
    <bpmn2:property id="colIdNameMap" itemSubjectRef="_colIdNameMapItem" name="colIdNameMap"/>
    <bpmn2:sequenceFlow id="_2927950B-B4D6-4B78-BC20-5C88E2356107" sourceRef="_1506F99B-00E3-4DAE-B4F5-45818A1088A9" targetRef="_A2E6F966-AE8B-4D8B-BD39-82B4245E2033"/>
    <bpmn2:sequenceFlow id="_2632008E-CE04-4035-B2BA-834C7113DB91" sourceRef="_A2E6F966-AE8B-4D8B-BD39-82B4245E2033" targetRef="_E380AAD2-A4BC-4A3F-A9DA-A63604E31E82">
      <bpmn2:extensionElements>
        <drools:metaData name="isAutoConnection.source">
          <drools:metaValue><![CDATA[true]]></drools:metaValue>
        </drools:metaData>
        <drools:metaData name="isAutoConnection.target">
          <drools:metaValue><![CDATA[true]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
    </bpmn2:sequenceFlow>
    <bpmn2:sequenceFlow id="_EE67FD58-51AD-45B6-86A2-7D8FF28713CE" sourceRef="_D47399B4-420C-4AA6-84E8-F6796BE98D04" targetRef="_1506F99B-00E3-4DAE-B4F5-45818A1088A9">
      <bpmn2:extensionElements>
        <drools:metaData name="isAutoConnection.target">
          <drools:metaValue><![CDATA[true]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
    </bpmn2:sequenceFlow>
    <bpmn2:task id="_1506F99B-00E3-4DAE-B4F5-45818A1088A9" drools:taskName="OriginationServiceTask" name="Get Collaterals">
      <bpmn2:documentation id="_4swmwUrLEe2fj6tdsZobPQ"><![CDATA[OriginationWorkItem/index.html]]></bpmn2:documentation>
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[Get Collaterals]]></drools:metaValue>
        </drools:metaData>
        <drools:onEntry-script scriptFormat="http://www.java.com/java">
          <drools:script><![CDATA[HashMap requestMap = new HashMap();
requestMap.put("requestId",kcontext.getVariable("requestId").toString());
kcontext.setVariable("payloadMap",requestMap);]]></drools:script>
        </drools:onEntry-script>
        <drools:onExit-script scriptFormat="http://www.java.com/java">
          <drools:script><![CDATA[boolean isCollateralAmendment = Boolean.parseBoolean(kcontext.getVariable(
					"collateralAmendment").toString());
System.out.println("response: " + kcontext.getVariable("response").toString());
JSONObject responseObj = new JSONObject(kcontext.getVariable("response").toString());
ArrayList collateralsList = new ArrayList<>();
java.util.HashMap<String, String> colNameMap = new java.util.HashMap<String, String>();
if(responseObj.has("collaterals")) {
    JSONArray collaterals = responseObj.getJSONArray("collaterals");
    System.out.println(collaterals.toString());
    for(int i = 0; i < collaterals.length(); i++) {
        JSONObject indObj = (JSONObject) collaterals.get(i);
        if(indObj.get("collateralType").toString().equals("01")||
		   indObj.get("collateralType").toString().equals("03")||
		   indObj.get("collateralType").toString().equals("08")) {
			collateralsList.add(indObj.get("collateralId"));
			colNameMap.put(indObj.get("collateralId").toString(),indObj.get("collateralName").toString());
		}
    }
}
if(isCollateralAmendment){
System.out.println("Collaterals List************" + kcontext.getVariable("modAmendCollateralsList"));
kcontext.setVariable("collateralList",kcontext.getVariable("modAmendCollateralsList"));
}else{
System.out.println("Collaterals List************" + collateralsList);
kcontext.setVariable("collateralList",collateralsList);
kcontext.setVariable("colIdNameMap",colNameMap);
}]]></drools:script>
        </drools:onExit-script>
      </bpmn2:extensionElements>
      <bpmn2:incoming>_EE67FD58-51AD-45B6-86A2-7D8FF28713CE</bpmn2:incoming>
      <bpmn2:outgoing>_2927950B-B4D6-4B78-BC20-5C88E2356107</bpmn2:outgoing>
      <bpmn2:ioSpecification id="_4swmwkrLEe2fj6tdsZobPQ">
        <bpmn2:dataInput id="_1506F99B-00E3-4DAE-B4F5-45818A1088A9_AdditionalParametersInputX" drools:dtype="String" itemSubjectRef="__1506F99B-00E3-4DAE-B4F5-45818A1088A9_AdditionalParametersInputXItem" name="AdditionalParameters"/>
        <bpmn2:dataInput id="_1506F99B-00E3-4DAE-B4F5-45818A1088A9_OperationNameInputX" drools:dtype="String" itemSubjectRef="__1506F99B-00E3-4DAE-B4F5-45818A1088A9_OperationNameInputXItem" name="OperationName"/>
        <bpmn2:dataInput id="_1506F99B-00E3-4DAE-B4F5-45818A1088A9_ServiceNameInputX" drools:dtype="String" itemSubjectRef="__1506F99B-00E3-4DAE-B4F5-45818A1088A9_ServiceNameInputXItem" name="ServiceName"/>
        <bpmn2:dataInput id="_1506F99B-00E3-4DAE-B4F5-45818A1088A9_ApplicationIdInputX" drools:dtype="String" itemSubjectRef="__1506F99B-00E3-4DAE-B4F5-45818A1088A9_ApplicationIdInputXItem" name="ApplicationId"/>
        <bpmn2:dataInput id="_1506F99B-00E3-4DAE-B4F5-45818A1088A9_AuthorizationInputX" drools:dtype="String" itemSubjectRef="__1506F99B-00E3-4DAE-B4F5-45818A1088A9_AuthorizationInputXItem" name="Authorization"/>
        <bpmn2:dataInput id="_1506F99B-00E3-4DAE-B4F5-45818A1088A9_CIFInputX" drools:dtype="String" itemSubjectRef="__1506F99B-00E3-4DAE-B4F5-45818A1088A9_CIFInputXItem" name="CIF"/>
        <bpmn2:dataInput id="_1506F99B-00E3-4DAE-B4F5-45818A1088A9_ErrorProcessInputX" drools:dtype="String" itemSubjectRef="__1506F99B-00E3-4DAE-B4F5-45818A1088A9_ErrorProcessInputXItem" name="ErrorProcess"/>
        <bpmn2:dataInput id="_1506F99B-00E3-4DAE-B4F5-45818A1088A9_FacilityIdInputX" drools:dtype="String" itemSubjectRef="__1506F99B-00E3-4DAE-B4F5-45818A1088A9_FacilityIdInputXItem" name="FacilityId"/>
        <bpmn2:dataInput id="_1506F99B-00E3-4DAE-B4F5-45818A1088A9_ObjectNameInputX" drools:dtype="String" itemSubjectRef="__1506F99B-00E3-4DAE-B4F5-45818A1088A9_ObjectNameInputXItem" name="ObjectName"/>
        <bpmn2:dataInput id="_1506F99B-00E3-4DAE-B4F5-45818A1088A9_PartyIdInputX" drools:dtype="String" itemSubjectRef="__1506F99B-00E3-4DAE-B4F5-45818A1088A9_PartyIdInputXItem" name="PartyId"/>
        <bpmn2:dataInput id="_1506F99B-00E3-4DAE-B4F5-45818A1088A9_RequestIdInputX" drools:dtype="String" itemSubjectRef="__1506F99B-00E3-4DAE-B4F5-45818A1088A9_RequestIdInputXItem" name="RequestId"/>
        <bpmn2:dataInput id="_1506F99B-00E3-4DAE-B4F5-45818A1088A9_TaskNameInputX" drools:dtype="Object" name="TaskName"/>
        <bpmn2:dataOutput id="_1506F99B-00E3-4DAE-B4F5-45818A1088A9_ResultOutputX" drools:dtype="String" itemSubjectRef="__1506F99B-00E3-4DAE-B4F5-45818A1088A9_ResultOutputXItem" name="Result"/>
        <bpmn2:dataOutput id="_1506F99B-00E3-4DAE-B4F5-45818A1088A9_AuthorizationOutputX" drools:dtype="String" itemSubjectRef="__1506F99B-00E3-4DAE-B4F5-45818A1088A9_AuthorizationOutputXItem" name="Authorization"/>
        <bpmn2:inputSet id="_4swmw0rLEe2fj6tdsZobPQ">
          <bpmn2:dataInputRefs>_1506F99B-00E3-4DAE-B4F5-45818A1088A9_AdditionalParametersInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_1506F99B-00E3-4DAE-B4F5-45818A1088A9_OperationNameInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_1506F99B-00E3-4DAE-B4F5-45818A1088A9_ServiceNameInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_1506F99B-00E3-4DAE-B4F5-45818A1088A9_ApplicationIdInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_1506F99B-00E3-4DAE-B4F5-45818A1088A9_AuthorizationInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_1506F99B-00E3-4DAE-B4F5-45818A1088A9_CIFInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_1506F99B-00E3-4DAE-B4F5-45818A1088A9_ErrorProcessInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_1506F99B-00E3-4DAE-B4F5-45818A1088A9_FacilityIdInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_1506F99B-00E3-4DAE-B4F5-45818A1088A9_ObjectNameInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_1506F99B-00E3-4DAE-B4F5-45818A1088A9_PartyIdInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_1506F99B-00E3-4DAE-B4F5-45818A1088A9_RequestIdInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_1506F99B-00E3-4DAE-B4F5-45818A1088A9_TaskNameInputX</bpmn2:dataInputRefs>
        </bpmn2:inputSet>
        <bpmn2:outputSet id="_4swmxErLEe2fj6tdsZobPQ">
          <bpmn2:dataOutputRefs>_1506F99B-00E3-4DAE-B4F5-45818A1088A9_ResultOutputX</bpmn2:dataOutputRefs>
          <bpmn2:dataOutputRefs>_1506F99B-00E3-4DAE-B4F5-45818A1088A9_AuthorizationOutputX</bpmn2:dataOutputRefs>
        </bpmn2:outputSet>
      </bpmn2:ioSpecification>
      <bpmn2:dataInputAssociation id="_4swmxUrLEe2fj6tdsZobPQ">
        <bpmn2:sourceRef>payloadMap</bpmn2:sourceRef>
        <bpmn2:targetRef>_1506F99B-00E3-4DAE-B4F5-45818A1088A9_AdditionalParametersInputX</bpmn2:targetRef>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation id="_4swmxkrLEe2fj6tdsZobPQ">
        <bpmn2:targetRef>_1506F99B-00E3-4DAE-B4F5-45818A1088A9_OperationNameInputX</bpmn2:targetRef>
        <bpmn2:assignment id="_4swmx0rLEe2fj6tdsZobPQ">
          <bpmn2:from xsi:type="bpmn2:tFormalExpression" id="_4swmyErLEe2fj6tdsZobPQ"><![CDATA[getAllCollaterals]]></bpmn2:from>
          <bpmn2:to xsi:type="bpmn2:tFormalExpression" id="_4swmyUrLEe2fj6tdsZobPQ">_1506F99B-00E3-4DAE-B4F5-45818A1088A9_OperationNameInputX</bpmn2:to>
        </bpmn2:assignment>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation id="_4swmykrLEe2fj6tdsZobPQ">
        <bpmn2:targetRef>_1506F99B-00E3-4DAE-B4F5-45818A1088A9_ServiceNameInputX</bpmn2:targetRef>
        <bpmn2:assignment id="_4swmy0rLEe2fj6tdsZobPQ">
          <bpmn2:from xsi:type="bpmn2:tFormalExpression" id="_4swmzErLEe2fj6tdsZobPQ"><![CDATA[CorporateLOSJSONService]]></bpmn2:from>
          <bpmn2:to xsi:type="bpmn2:tFormalExpression" id="_4swmzUrLEe2fj6tdsZobPQ">_1506F99B-00E3-4DAE-B4F5-45818A1088A9_ServiceNameInputX</bpmn2:to>
        </bpmn2:assignment>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation id="_4swmzkrLEe2fj6tdsZobPQ">
        <bpmn2:targetRef>_1506F99B-00E3-4DAE-B4F5-45818A1088A9_TaskNameInputX</bpmn2:targetRef>
        <bpmn2:assignment id="_4swmz0rLEe2fj6tdsZobPQ">
          <bpmn2:from xsi:type="bpmn2:tFormalExpression" id="_4swm0ErLEe2fj6tdsZobPQ"><![CDATA[OriginationServiceTask]]></bpmn2:from>
          <bpmn2:to xsi:type="bpmn2:tFormalExpression" id="_4swm0UrLEe2fj6tdsZobPQ">_1506F99B-00E3-4DAE-B4F5-45818A1088A9_TaskNameInputX</bpmn2:to>
        </bpmn2:assignment>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataOutputAssociation id="_4swm0krLEe2fj6tdsZobPQ">
        <bpmn2:sourceRef>_1506F99B-00E3-4DAE-B4F5-45818A1088A9_ResultOutputX</bpmn2:sourceRef>
        <bpmn2:targetRef>response</bpmn2:targetRef>
      </bpmn2:dataOutputAssociation>
    </bpmn2:task>
    <bpmn2:endEvent id="_E380AAD2-A4BC-4A3F-A9DA-A63604E31E82">
      <bpmn2:incoming>_2632008E-CE04-4035-B2BA-834C7113DB91</bpmn2:incoming>
    </bpmn2:endEvent>
    <bpmn2:startEvent id="_D47399B4-420C-4AA6-84E8-F6796BE98D04">
      <bpmn2:outgoing>_EE67FD58-51AD-45B6-86A2-7D8FF28713CE</bpmn2:outgoing>
    </bpmn2:startEvent>
    <bpmn2:subProcess id="_A2E6F966-AE8B-4D8B-BD39-82B4245E2033" name="Collaterals Loop">
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[Collaterals Loop]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:incoming>_2927950B-B4D6-4B78-BC20-5C88E2356107</bpmn2:incoming>
      <bpmn2:outgoing>_2632008E-CE04-4035-B2BA-834C7113DB91</bpmn2:outgoing>
      <bpmn2:ioSpecification id="_4swm00rLEe2fj6tdsZobPQ">
        <bpmn2:dataInput id="_A2E6F966-AE8B-4D8B-BD39-82B4245E2033_IN_COLLECTIONInputX" itemSubjectRef="_collateralListItem" name="IN_COLLECTION"/>
        <bpmn2:dataInput id="_A2E6F966-AE8B-4D8B-BD39-82B4245E2033_collateralInputX" itemSubjectRef="_A2E6F966-AE8B-4D8B-BD39-82B4245E2033_multiInstanceItemType_collateral" name="collateral"/>
        <bpmn2:inputSet id="_4sxN0ErLEe2fj6tdsZobPQ">
          <bpmn2:dataInputRefs>_A2E6F966-AE8B-4D8B-BD39-82B4245E2033_IN_COLLECTIONInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_A2E6F966-AE8B-4D8B-BD39-82B4245E2033_collateralInputX</bpmn2:dataInputRefs>
        </bpmn2:inputSet>
        <bpmn2:outputSet id="_4sxN0UrLEe2fj6tdsZobPQ"/>
      </bpmn2:ioSpecification>
      <bpmn2:dataInputAssociation id="_4sxN0krLEe2fj6tdsZobPQ">
        <bpmn2:sourceRef>collateralList</bpmn2:sourceRef>
        <bpmn2:targetRef>_A2E6F966-AE8B-4D8B-BD39-82B4245E2033_IN_COLLECTIONInputX</bpmn2:targetRef>
      </bpmn2:dataInputAssociation>
      <bpmn2:multiInstanceLoopCharacteristics id="_4sxN00rLEe2fj6tdsZobPQ">
        <bpmn2:loopDataInputRef>_A2E6F966-AE8B-4D8B-BD39-82B4245E2033_IN_COLLECTIONInputX</bpmn2:loopDataInputRef>
        <bpmn2:inputDataItem xsi:type="bpmn2:tDataInput" id="collateral" itemSubjectRef="_A2E6F966-AE8B-4D8B-BD39-82B4245E2033_multiInstanceItemType_collateral" name="collateral"/>
      </bpmn2:multiInstanceLoopCharacteristics>
      <bpmn2:sequenceFlow id="_63D6B02C-EE79-4446-8711-BB29A3B2B1A5" sourceRef="_3FA59045-BF9D-4D7A-88B7-BFAD6BD6241E" targetRef="_470A0AD3-6A98-414B-90C2-07DD192A3262"/>
      <bpmn2:sequenceFlow id="_7A1D61EE-6738-4FEB-85CA-C81C3A93E38E" sourceRef="_81851046-8B85-444E-9129-5F029924A712" targetRef="_3FA59045-BF9D-4D7A-88B7-BFAD6BD6241E">
        <bpmn2:extensionElements>
          <drools:metaData name="isAutoConnection.source">
            <drools:metaValue><![CDATA[true]]></drools:metaValue>
          </drools:metaData>
          <drools:metaData name="isAutoConnection.target">
            <drools:metaValue><![CDATA[true]]></drools:metaValue>
          </drools:metaData>
        </bpmn2:extensionElements>
      </bpmn2:sequenceFlow>
      <bpmn2:startEvent id="_81851046-8B85-444E-9129-5F029924A712">
        <bpmn2:outgoing>_7A1D61EE-6738-4FEB-85CA-C81C3A93E38E</bpmn2:outgoing>
      </bpmn2:startEvent>
      <bpmn2:endEvent id="_470A0AD3-6A98-414B-90C2-07DD192A3262" name="Review Appraisal Completed">
        <bpmn2:extensionElements>
          <drools:metaData name="elementname">
            <drools:metaValue><![CDATA[Review Appraisal Completed]]></drools:metaValue>
          </drools:metaData>
        </bpmn2:extensionElements>
        <bpmn2:incoming>_63D6B02C-EE79-4446-8711-BB29A3B2B1A5</bpmn2:incoming>
      </bpmn2:endEvent>
      <bpmn2:callActivity id="_3FA59045-BF9D-4D7A-88B7-BFAD6BD6241E" drools:independent="false" drools:waitForCompletion="true" name="Review Appraisal" calledElement="InfinityAssist.ReviewAppraisal">
        <bpmn2:extensionElements>
          <drools:metaData name="elementname">
            <drools:metaValue><![CDATA[Review Appraisal]]></drools:metaValue>
          </drools:metaData>
          <drools:metaData name="customAbortParent">
            <drools:metaValue><![CDATA[false]]></drools:metaValue>
          </drools:metaData>
        </bpmn2:extensionElements>
        <bpmn2:incoming>_7A1D61EE-6738-4FEB-85CA-C81C3A93E38E</bpmn2:incoming>
        <bpmn2:outgoing>_63D6B02C-EE79-4446-8711-BB29A3B2B1A5</bpmn2:outgoing>
        <bpmn2:ioSpecification id="_4sxN1ErLEe2fj6tdsZobPQ">
          <bpmn2:dataInput id="_3FA59045-BF9D-4D7A-88B7-BFAD6BD6241E_dealIdInputX" drools:dtype="String" itemSubjectRef="__3FA59045-BF9D-4D7A-88B7-BFAD6BD6241E_dealIdInputXItem" name="dealId"/>
          <bpmn2:dataInput id="_3FA59045-BF9D-4D7A-88B7-BFAD6BD6241E_partyIdInputX" drools:dtype="String" itemSubjectRef="__3FA59045-BF9D-4D7A-88B7-BFAD6BD6241E_partyIdInputXItem" name="partyId"/>
          <bpmn2:dataInput id="_3FA59045-BF9D-4D7A-88B7-BFAD6BD6241E_facilityIdInputX" drools:dtype="String" itemSubjectRef="__3FA59045-BF9D-4D7A-88B7-BFAD6BD6241E_facilityIdInputXItem" name="facilityId"/>
          <bpmn2:dataInput id="_3FA59045-BF9D-4D7A-88B7-BFAD6BD6241E_requestIdInputX" drools:dtype="String" itemSubjectRef="__3FA59045-BF9D-4D7A-88B7-BFAD6BD6241E_requestIdInputXItem" name="requestId"/>
          <bpmn2:dataInput id="_3FA59045-BF9D-4D7A-88B7-BFAD6BD6241E_collateralIdInputX" drools:dtype="String" itemSubjectRef="__3FA59045-BF9D-4D7A-88B7-BFAD6BD6241E_collateralIdInputXItem" name="collateralId"/>
          <bpmn2:dataInput id="_3FA59045-BF9D-4D7A-88B7-BFAD6BD6241E_applicationInputX" drools:dtype="String" itemSubjectRef="__3FA59045-BF9D-4D7A-88B7-BFAD6BD6241E_applicationInputXItem" name="application"/>
          <bpmn2:dataInput id="_3FA59045-BF9D-4D7A-88B7-BFAD6BD6241E_stageInputX" drools:dtype="String" itemSubjectRef="__3FA59045-BF9D-4D7A-88B7-BFAD6BD6241E_stageInputXItem" name="stage"/>
          <bpmn2:dataInput id="_3FA59045-BF9D-4D7A-88B7-BFAD6BD6241E_isTaskProcessInputX" drools:dtype="String" itemSubjectRef="__3FA59045-BF9D-4D7A-88B7-BFAD6BD6241E_isTaskProcessInputXItem" name="isTaskProcess"/>
          <bpmn2:dataInput id="_3FA59045-BF9D-4D7A-88B7-BFAD6BD6241E_countInputX" drools:dtype="Integer" itemSubjectRef="__3FA59045-BF9D-4D7A-88B7-BFAD6BD6241E_countInputXItem" name="count"/>
          <bpmn2:dataInput id="_3FA59045-BF9D-4D7A-88B7-BFAD6BD6241E_relationshipManagerInputX" drools:dtype="String" itemSubjectRef="__3FA59045-BF9D-4D7A-88B7-BFAD6BD6241E_relationshipManagerInputXItem" name="relationshipManager"/>
          <bpmn2:dataInput id="_3FA59045-BF9D-4D7A-88B7-BFAD6BD6241E_colIdNameMapInputX" drools:dtype="java.util.HashMap" itemSubjectRef="__3FA59045-BF9D-4D7A-88B7-BFAD6BD6241E_colIdNameMapInputXItem" name="colIdNameMap"/>
          <bpmn2:inputSet id="_4sxN1UrLEe2fj6tdsZobPQ">
            <bpmn2:dataInputRefs>_3FA59045-BF9D-4D7A-88B7-BFAD6BD6241E_dealIdInputX</bpmn2:dataInputRefs>
            <bpmn2:dataInputRefs>_3FA59045-BF9D-4D7A-88B7-BFAD6BD6241E_partyIdInputX</bpmn2:dataInputRefs>
            <bpmn2:dataInputRefs>_3FA59045-BF9D-4D7A-88B7-BFAD6BD6241E_facilityIdInputX</bpmn2:dataInputRefs>
            <bpmn2:dataInputRefs>_3FA59045-BF9D-4D7A-88B7-BFAD6BD6241E_requestIdInputX</bpmn2:dataInputRefs>
            <bpmn2:dataInputRefs>_3FA59045-BF9D-4D7A-88B7-BFAD6BD6241E_collateralIdInputX</bpmn2:dataInputRefs>
            <bpmn2:dataInputRefs>_3FA59045-BF9D-4D7A-88B7-BFAD6BD6241E_applicationInputX</bpmn2:dataInputRefs>
            <bpmn2:dataInputRefs>_3FA59045-BF9D-4D7A-88B7-BFAD6BD6241E_stageInputX</bpmn2:dataInputRefs>
            <bpmn2:dataInputRefs>_3FA59045-BF9D-4D7A-88B7-BFAD6BD6241E_isTaskProcessInputX</bpmn2:dataInputRefs>
            <bpmn2:dataInputRefs>_3FA59045-BF9D-4D7A-88B7-BFAD6BD6241E_countInputX</bpmn2:dataInputRefs>
            <bpmn2:dataInputRefs>_3FA59045-BF9D-4D7A-88B7-BFAD6BD6241E_relationshipManagerInputX</bpmn2:dataInputRefs>
            <bpmn2:dataInputRefs>_3FA59045-BF9D-4D7A-88B7-BFAD6BD6241E_colIdNameMapInputX</bpmn2:dataInputRefs>
          </bpmn2:inputSet>
        </bpmn2:ioSpecification>
        <bpmn2:dataInputAssociation id="_4sxN1krLEe2fj6tdsZobPQ">
          <bpmn2:sourceRef>dealId</bpmn2:sourceRef>
          <bpmn2:targetRef>_3FA59045-BF9D-4D7A-88B7-BFAD6BD6241E_dealIdInputX</bpmn2:targetRef>
        </bpmn2:dataInputAssociation>
        <bpmn2:dataInputAssociation id="_4sxN10rLEe2fj6tdsZobPQ">
          <bpmn2:sourceRef>partyId</bpmn2:sourceRef>
          <bpmn2:targetRef>_3FA59045-BF9D-4D7A-88B7-BFAD6BD6241E_partyIdInputX</bpmn2:targetRef>
        </bpmn2:dataInputAssociation>
        <bpmn2:dataInputAssociation id="_4sxN2ErLEe2fj6tdsZobPQ">
          <bpmn2:sourceRef>facilityId</bpmn2:sourceRef>
          <bpmn2:targetRef>_3FA59045-BF9D-4D7A-88B7-BFAD6BD6241E_facilityIdInputX</bpmn2:targetRef>
        </bpmn2:dataInputAssociation>
        <bpmn2:dataInputAssociation id="_4sxN2UrLEe2fj6tdsZobPQ">
          <bpmn2:sourceRef>requestId</bpmn2:sourceRef>
          <bpmn2:targetRef>_3FA59045-BF9D-4D7A-88B7-BFAD6BD6241E_requestIdInputX</bpmn2:targetRef>
        </bpmn2:dataInputAssociation>
        <bpmn2:dataInputAssociation id="_4sxN2krLEe2fj6tdsZobPQ">
          <bpmn2:targetRef>_3FA59045-BF9D-4D7A-88B7-BFAD6BD6241E_collateralIdInputX</bpmn2:targetRef>
          <bpmn2:assignment id="_4sxN20rLEe2fj6tdsZobPQ">
            <bpmn2:from xsi:type="bpmn2:tFormalExpression" id="_4sxN3ErLEe2fj6tdsZobPQ"><![CDATA[#{collateral}]]></bpmn2:from>
            <bpmn2:to xsi:type="bpmn2:tFormalExpression" id="_4sxN3UrLEe2fj6tdsZobPQ">_3FA59045-BF9D-4D7A-88B7-BFAD6BD6241E_collateralIdInputX</bpmn2:to>
          </bpmn2:assignment>
        </bpmn2:dataInputAssociation>
        <bpmn2:dataInputAssociation id="_4sxN3krLEe2fj6tdsZobPQ">
          <bpmn2:targetRef>_3FA59045-BF9D-4D7A-88B7-BFAD6BD6241E_applicationInputX</bpmn2:targetRef>
          <bpmn2:assignment id="_4sxN30rLEe2fj6tdsZobPQ">
            <bpmn2:from xsi:type="bpmn2:tFormalExpression" id="_4sxN4ErLEe2fj6tdsZobPQ"><![CDATA[Corporate]]></bpmn2:from>
            <bpmn2:to xsi:type="bpmn2:tFormalExpression" id="_4sxN4UrLEe2fj6tdsZobPQ">_3FA59045-BF9D-4D7A-88B7-BFAD6BD6241E_applicationInputX</bpmn2:to>
          </bpmn2:assignment>
        </bpmn2:dataInputAssociation>
        <bpmn2:dataInputAssociation id="_4sxN4krLEe2fj6tdsZobPQ">
          <bpmn2:targetRef>_3FA59045-BF9D-4D7A-88B7-BFAD6BD6241E_stageInputX</bpmn2:targetRef>
          <bpmn2:assignment id="_4sxN40rLEe2fj6tdsZobPQ">
            <bpmn2:from xsi:type="bpmn2:tFormalExpression" id="_4sxN5ErLEe2fj6tdsZobPQ"><![CDATA["03"]]></bpmn2:from>
            <bpmn2:to xsi:type="bpmn2:tFormalExpression" id="_4sxN5UrLEe2fj6tdsZobPQ">_3FA59045-BF9D-4D7A-88B7-BFAD6BD6241E_stageInputX</bpmn2:to>
          </bpmn2:assignment>
        </bpmn2:dataInputAssociation>
        <bpmn2:dataInputAssociation id="_4sxN5krLEe2fj6tdsZobPQ">
          <bpmn2:targetRef>_3FA59045-BF9D-4D7A-88B7-BFAD6BD6241E_isTaskProcessInputX</bpmn2:targetRef>
          <bpmn2:assignment id="_4sxN50rLEe2fj6tdsZobPQ">
            <bpmn2:from xsi:type="bpmn2:tFormalExpression" id="_4sxN6ErLEe2fj6tdsZobPQ"><![CDATA[true]]></bpmn2:from>
            <bpmn2:to xsi:type="bpmn2:tFormalExpression" id="_4sxN6UrLEe2fj6tdsZobPQ">_3FA59045-BF9D-4D7A-88B7-BFAD6BD6241E_isTaskProcessInputX</bpmn2:to>
          </bpmn2:assignment>
        </bpmn2:dataInputAssociation>
        <bpmn2:dataInputAssociation id="_4sxN6krLEe2fj6tdsZobPQ">
          <bpmn2:targetRef>_3FA59045-BF9D-4D7A-88B7-BFAD6BD6241E_countInputX</bpmn2:targetRef>
          <bpmn2:assignment id="_4sxN60rLEe2fj6tdsZobPQ">
            <bpmn2:from xsi:type="bpmn2:tFormalExpression" id="_4sxN7ErLEe2fj6tdsZobPQ"><![CDATA[0]]></bpmn2:from>
            <bpmn2:to xsi:type="bpmn2:tFormalExpression" id="_4sxN7UrLEe2fj6tdsZobPQ">_3FA59045-BF9D-4D7A-88B7-BFAD6BD6241E_countInputX</bpmn2:to>
          </bpmn2:assignment>
        </bpmn2:dataInputAssociation>
        <bpmn2:dataInputAssociation id="_4sxN7krLEe2fj6tdsZobPQ">
          <bpmn2:sourceRef>relationshipManager</bpmn2:sourceRef>
          <bpmn2:targetRef>_3FA59045-BF9D-4D7A-88B7-BFAD6BD6241E_relationshipManagerInputX</bpmn2:targetRef>
        </bpmn2:dataInputAssociation>
        <bpmn2:dataInputAssociation id="_4sxN70rLEe2fj6tdsZobPQ">
          <bpmn2:sourceRef>colIdNameMap</bpmn2:sourceRef>
          <bpmn2:targetRef>_3FA59045-BF9D-4D7A-88B7-BFAD6BD6241E_colIdNameMapInputX</bpmn2:targetRef>
        </bpmn2:dataInputAssociation>
      </bpmn2:callActivity>
    </bpmn2:subProcess>
  </bpmn2:process>
  <bpmndi:BPMNDiagram id="_4sxN8ErLEe2fj6tdsZobPQ">
    <bpmndi:BPMNPlane id="_4sxN8UrLEe2fj6tdsZobPQ" bpmnElement="InfinityAssist.ReviewAppraisalCollateralLoop">
      <bpmndi:BPMNShape id="shape__A2E6F966-AE8B-4D8B-BD39-82B4245E2033" bpmnElement="_A2E6F966-AE8B-4D8B-BD39-82B4245E2033">
        <dc:Bounds height="327.52377" width="622.3095" x="411.84528" y="174.14285"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="edge_shape__81851046-8B85-444E-9129-5F029924A712_to_shape__3FA59045-BF9D-4D7A-88B7-BFAD6BD6241E" bpmnElement="_7A1D61EE-6738-4FEB-85CA-C81C3A93E38E">
        <di:waypoint xsi:type="dc:Point" x="535.0" y="338.0"/>
        <di:waypoint xsi:type="dc:Point" x="606.0" y="337.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge_shape__3FA59045-BF9D-4D7A-88B7-BFAD6BD6241E_to_shape__470A0AD3-6A98-414B-90C2-07DD192A3262" bpmnElement="_63D6B02C-EE79-4446-8711-BB29A3B2B1A5">
        <di:waypoint xsi:type="dc:Point" x="682.5" y="337.0"/>
        <di:waypoint xsi:type="dc:Point" x="840.0" y="336.5714"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="shape__3FA59045-BF9D-4D7A-88B7-BFAD6BD6241E" bpmnElement="_3FA59045-BF9D-4D7A-88B7-BFAD6BD6241E">
        <dc:Bounds height="101.0" width="153.0" x="606.0" y="286.5"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape__470A0AD3-6A98-414B-90C2-07DD192A3262" bpmnElement="_470A0AD3-6A98-414B-90C2-07DD192A3262">
        <dc:Bounds height="56.0" width="56.0" x="840.0" y="308.5714"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape__81851046-8B85-444E-9129-5F029924A712" bpmnElement="_81851046-8B85-444E-9129-5F029924A712">
        <dc:Bounds height="56.0" width="56.0" x="479.0" y="310.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape__D47399B4-420C-4AA6-84E8-F6796BE98D04" bpmnElement="_D47399B4-420C-4AA6-84E8-F6796BE98D04">
        <dc:Bounds height="56.0" width="56.0" x="82.0" y="310.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape__E380AAD2-A4BC-4A3F-A9DA-A63604E31E82" bpmnElement="_E380AAD2-A4BC-4A3F-A9DA-A63604E31E82">
        <dc:Bounds height="56.0" width="56.0" x="1157.1428" y="309.14285"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape__1506F99B-00E3-4DAE-B4F5-45818A1088A9" bpmnElement="_1506F99B-00E3-4DAE-B4F5-45818A1088A9">
        <dc:Bounds height="102.00003" width="154.00002" x="176.57143" y="286.5714"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="edge_shape__D47399B4-420C-4AA6-84E8-F6796BE98D04_to_shape__1506F99B-00E3-4DAE-B4F5-45818A1088A9" bpmnElement="_EE67FD58-51AD-45B6-86A2-7D8FF28713CE">
        <di:waypoint xsi:type="dc:Point" x="110.0" y="338.0"/>
        <di:waypoint xsi:type="dc:Point" x="176.57143" y="337.5714"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge_shape__A2E6F966-AE8B-4D8B-BD39-82B4245E2033_to_shape__E380AAD2-A4BC-4A3F-A9DA-A63604E31E82" bpmnElement="_2632008E-CE04-4035-B2BA-834C7113DB91">
        <di:waypoint xsi:type="dc:Point" x="1034.1548" y="337.90472"/>
        <di:waypoint xsi:type="dc:Point" x="1157.1428" y="337.14285"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge_shape__1506F99B-00E3-4DAE-B4F5-45818A1088A9_to_shape__A2E6F966-AE8B-4D8B-BD39-82B4245E2033" bpmnElement="_2927950B-B4D6-4B78-BC20-5C88E2356107">
        <di:waypoint xsi:type="dc:Point" x="253.57141" y="337.5714"/>
        <di:waypoint xsi:type="dc:Point" x="411.84528" y="337.90472"/>
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
  <bpmn2:relationship id="_4sxN8krLEe2fj6tdsZobPQ" type="BPSimData">
    <bpmn2:extensionElements>
      <bpsim:BPSimData>
        <bpsim:Scenario xsi:type="bpsim:Scenario" id="default" name="Simulationscenario">
          <bpsim:ScenarioParameters xsi:type="bpsim:ScenarioParameters"/>
          <bpsim:ElementParameters xsi:type="bpsim:ElementParameters" elementRef="_D47399B4-420C-4AA6-84E8-F6796BE98D04" id="_4sxN80rLEe2fj6tdsZobPQ">
            <bpsim:TimeParameters xsi:type="bpsim:TimeParameters">
              <bpsim:ProcessingTime xsi:type="bpsim:Parameter">
                <bpsim:NormalDistribution mean="0.0" standardDeviation="0.0"/>
              </bpsim:ProcessingTime>
            </bpsim:TimeParameters>
          </bpsim:ElementParameters>
          <bpsim:ElementParameters xsi:type="bpsim:ElementParameters" elementRef="_1506F99B-00E3-4DAE-B4F5-45818A1088A9" id="_4sxN9ErLEe2fj6tdsZobPQ">
            <bpsim:TimeParameters xsi:type="bpsim:TimeParameters">
              <bpsim:ProcessingTime xsi:type="bpsim:Parameter">
                <bpsim:NormalDistribution mean="0.0" standardDeviation="0.0"/>
              </bpsim:ProcessingTime>
            </bpsim:TimeParameters>
            <bpsim:ResourceParameters xsi:type="bpsim:ResourceParameters">
              <bpsim:Availability xsi:type="bpsim:Parameter">
                <bpsim:FloatingParameter value="0.0"/>
              </bpsim:Availability>
              <bpsim:Quantity xsi:type="bpsim:Parameter">
                <bpsim:FloatingParameter value="0.0"/>
              </bpsim:Quantity>
            </bpsim:ResourceParameters>
            <bpsim:CostParameters xsi:type="bpsim:CostParameters">
              <bpsim:UnitCost xsi:type="bpsim:Parameter">
                <bpsim:FloatingParameter value="0.0"/>
              </bpsim:UnitCost>
            </bpsim:CostParameters>
          </bpsim:ElementParameters>
        </bpsim:Scenario>
      </bpsim:BPSimData>
    </bpmn2:extensionElements>
    <bpmn2:source>_4swmwErLEe2fj6tdsZobPQ</bpmn2:source>
    <bpmn2:target>_4swmwErLEe2fj6tdsZobPQ</bpmn2:target>
  </bpmn2:relationship>
</bpmn2:definitions>
